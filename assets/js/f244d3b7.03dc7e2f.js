"use strict";(self.webpackChunkls_fusion_docs=self.webpackChunkls_fusion_docs||[]).push([["16190"],{78719:function(e,n,r){r.r(n),r.d(n,{metadata:()=>i,default:()=>f,frontMatter:()=>s,contentTitle:()=>d,toc:()=>o,assets:()=>c});var i=JSON.parse('{"id":"Data_import_IMPORT","title":"\u6570\u636E\u5BFC\u5165 (IMPORT)","description":"\u6570\u636E\u5BFC\u5165\u64CD\u4F5C\u7B26\u521B\u5EFA\u4E00\u4E2A\u52A8\u4F5C\uFF0C\u8BE5\u52A8\u4F5C\u4ECE\u67D0\u4E2A\u5C5E\u6027\u7684\u503C\u4E2D\u8BFB\u53D6\u6587\u4EF6\uFF0C\u7136\u540E\u6839\u636E\u5176\u683C\u5F0F\uFF0C\u5B9A\u4E49\u8BE5\u6587\u4EF6\u4E2D\u7684\u6570\u636E\u5217\uFF08\u5B57\u6BB5\uFF09\uFF0C\u4E4B\u540E\u5C06\u6BCF\u5217\uFF08\u5B57\u6BB5\uFF09\u7684\u503C\u5199\u5165\u5230\u76F8\u5E94\u7684\u5C5E\u6027\uFF08\u53C2\u6570\uFF09\u4E2D - \u5BFC\u5165\u8D4B\u503C\u3002\u5217\u5230\u5C5E\u6027\u7684\u6620\u5C04\u53EF\u4EE5\u6309\u5217\u987A\u5E8F\u6216\u540D\u79F0\u987A\u5E8F\u8FDB\u884C\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/Data_import_IMPORT.md","sourceDirName":".","slug":"/Data_import_IMPORT","permalink":"/Data_import_IMPORT","draft":false,"unlisted":false,"editUrl":"https://github.com/lsfusion/platform/edit/master/docs/zh-CN/Data_import_IMPORT.md","tags":[],"version":"current","lastUpdatedAt":null,"frontMatter":{"title":"\u6570\u636E\u5BFC\u5165 (IMPORT)"},"sidebar":"learn","previous":{"title":"\u5199\u5165\u6587\u4EF6 (WRITE)","permalink":"/Write_file_WRITE"},"next":{"title":"\u6570\u636E\u5BFC\u51FA (EXPORT)","permalink":"/Data_export_EXPORT"}}'),l=r(74848),t=r(28453);let s={title:"\u6570\u636E\u5BFC\u5165 (IMPORT)"},d,c={},o=[{value:"\u4E00\u822C\u60C5\u51B5",id:"\u4E00\u822C\u60C5\u51B5",level:3},{value:"\u8BED\u8A00",id:"\u8BED\u8A00",level:3},{value:"\u793A\u4F8B",id:"\u793A\u4F8B",level:3}];function a(e){let n={a:"a",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u6570\u636E\u5BFC\u5165"}),"\u64CD\u4F5C\u7B26\u521B\u5EFA\u4E00\u4E2A",(0,l.jsx)(n.a,{href:"/Actions",children:"\u52A8\u4F5C"}),"\uFF0C\u8BE5\u52A8\u4F5C\u4ECE\u67D0\u4E2A",(0,l.jsx)(n.a,{href:"/Properties",children:"\u5C5E\u6027"}),"\u7684\u503C\u4E2D\u8BFB\u53D6\u6587\u4EF6\uFF0C\u7136\u540E\u6839\u636E\u5176",(0,l.jsx)(n.a,{href:"/Structured_view",children:"\u683C\u5F0F"}),"\uFF0C\u5B9A\u4E49\u8BE5\u6587\u4EF6\u4E2D\u7684\u6570\u636E\u5217\uFF08\u5B57\u6BB5\uFF09\uFF0C\u4E4B\u540E\u5C06\u6BCF\u5217\uFF08\u5B57\u6BB5\uFF09\u7684\u503C",(0,l.jsx)(n.a,{href:"/Property_change_CHANGE",children:"\u5199\u5165"}),"\u5230\u76F8\u5E94\u7684\u5C5E\u6027\uFF08\u53C2\u6570\uFF09\u4E2D - \u5BFC\u5165",(0,l.jsx)(n.strong,{children:"\u8D4B\u503C"}),"\u3002\u5217\u5230\u5C5E\u6027\u7684\u6620\u5C04\u53EF\u4EE5\u6309\u5217\u987A\u5E8F\u6216\u540D\u79F0\u987A\u5E8F\u8FDB\u884C\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u53CD\u8FC7\u6765\uFF0C\u884C\u5728\u5BFC\u5165\u671F\u95F4\u88AB\u6620\u5C04\u5230\u6307\u5B9A\u7C7B\u7684\u5BF9\u8C61\uFF08\u6211\u4EEC\u79F0\u8FD9\u4E9B\u5BF9\u8C61\u4E3A",(0,l.jsx)(n.strong,{children:"\u5BFC\u5165\u5BF9\u8C61"}),"\uFF09\u3002\u5728\u5F53\u524D\u5E73\u53F0\u5B9E\u73B0\u4E2D\uFF0C\u6700\u591A\u53EA\u80FD\u6709\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5E76\u4E14\u6307\u5B9A\u7684\u7C7B\u5FC5\u987B\u662F",(0,l.jsx)(n.a,{href:"/Built-in_classes",children:"\u6570\u503C\u578B"}),"\u6216",(0,l.jsx)(n.a,{href:"/User_classes#abstract",children:"\u7279\u5B9A\u7684\u7528\u6237\u5B9A\u4E49\u7C7B"}),"\u3002\u884C\u6309\u4EE5\u4E0B\u65B9\u5F0F\u6620\u5C04\u5230\u5BFC\u5165\u5BF9\u8C61\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5BF9\u4E8E\u6570\u503C\u7C7B\uFF1A\u6240\u6709\u5BFC\u5165\u7684\u884C\u6309\u5B83\u4EEC\u5728\u6587\u4EF6\u4E2D\u51FA\u73B0\u7684\u987A\u5E8F\u7F16\u53F7\uFF08\u4ECE0\u5F00\u59CB\uFF09\u3002"}),"\n",(0,l.jsxs)(n.li,{children:["\u5BF9\u4E8E\u7279\u5B9A\u7684\u7528\u6237\u5B9A\u4E49\u7C7B\uFF1A\u4E3A\u6BCF\u4E00\u884C",(0,l.jsx)(n.a,{href:"/New_object_NEW",children:"\u521B\u5EFA"}),"\u4E00\u4E2A\u6307\u5B9A\u7C7B\u7684\u65B0\u5BF9\u8C61\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u60A8\u8FD8\u53EF\u4EE5\u5B9A\u4E49\u5BFC\u5165",(0,l.jsx)(n.strong,{children:"\u6761\u4EF6"}),"\uFF1A\u8FD9\u662F\u4E00\u4E2A\u5C5E\u6027\uFF0C\u5BF9\u4E8E\u6BCF\u4E00\u884C\uFF0C\u8BE5\u5C5E\u6027\u4E2D\u5199\u5165\u5C5E\u6027\u503C\u7C7B\u7684",(0,l.jsx)(n.a,{href:"/Built-in_classes",children:"\u9ED8\u8BA4\u503C"}),"\uFF08\u4E0E\u5199\u5165\u5217\u503C\u7684\u5BFC\u5165\u76EE\u6807\u76F8\u53CD\uFF09\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u4E00\u822C\u60C5\u51B5",children:"\u4E00\u822C\u60C5\u51B5"}),"\n",(0,l.jsxs)(n.p,{children:["\u5E94\u8BE5\u6CE8\u610F\uFF0C\u6570\u636E\u5BFC\u5165\u662F",(0,l.jsx)(n.a,{href:"/In_a_structured_view_EXPORT_IMPORT#importForm",children:"\u8868\u5355\u5BFC\u5165"}),"\u7684\u7279\u4F8B\uFF08\u8BED\u6CD5\u7CD6\uFF09\uFF0C\u5176\u4E2D\u5BFC\u5165\u7684\u8868\u5355\u662F\u81EA\u52A8\u521B\u5EFA\u7684\uFF0C\u5305\u542B\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u4E00\u4E2A\u540D\u4E3A",(0,l.jsx)(n.code,{children:"value"}),"\u7684",(0,l.jsx)(n.a,{href:"/Form_structure#objects",children:"\u5BF9\u8C61\u7EC4"}),"\uFF0C\u5176\u5BF9\u8C61\u5BF9\u5E94\u4E8E\u5BFC\u5165\u7684\u5BF9\u8C61\uFF08\u5982\u679C\u6CA1\u6709\u5BFC\u5165\u7684\u5BF9\u8C61\u5219\u4E0D\u521B\u5EFA\uFF09"]}),"\n",(0,l.jsxs)(n.li,{children:["\u5BFC\u5165\u7684\u5C5E\u6027\u3002\u5728\u8868\u5355\u4E0A\u521B\u5EFA\u7684\u5C5E\u6027\u7684",(0,l.jsx)(n.a,{href:"/Form_structure#propertygroup",children:"\u5C5E\u6027\u7EC4"}),"\u662F",(0,l.jsx)(n.a,{href:"/Groups_of_properties_and_actions#builtin",children:"\u5185\u7F6E"}),"\u7EC4",(0,l.jsx)(n.code,{children:"System.private"}),"\u3002"]}),"\n",(0,l.jsx)(n.li,{children:"\u7B49\u4E8E\u5B9A\u4E49\u6761\u4EF6\u7684\u8FC7\u6EE4\u5668\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u56E0\u6B64\uFF0C\u6570\u636E\u5BFC\u5165\u64CD\u4F5C\u7B26\u7684\u884C\u4E3A\uFF08\u4F8B\u5982\uFF0C\u786E\u5B9A\u7ED3\u679C\u5217/\u952E\u7684\u540D\u79F0\uFF0C",(0,l.jsxs)(n.a,{href:"/Structured_view#value",children:["\u5904\u7406",(0,l.jsx)(n.code,{children:"value"})]}),"\u7B49\uFF09\u5B8C\u5168\u7531\u8868\u5355\u5BFC\u5165\u64CD\u4F5C\u7B26\u7684\u884C\u4E3A\u51B3\u5B9A\uFF08\u5C31\u50CF\u4E0A\u9762\u7684\u8868\u5355\u4F5C\u4E3A\u53C2\u6570\u4F20\u9012\u7ED9\u5B83\u4E00\u6837\uFF09\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u8BED\u8A00",children:"\u8BED\u8A00"}),"\n",(0,l.jsxs)(n.p,{children:["\u8981\u58F0\u660E\u4E00\u4E2A\u5BFC\u5165\u6570\u636E\u7684\u52A8\u4F5C\uFF0C\u8BF7\u4F7F\u7528",(0,l.jsxs)(n.a,{href:"/IMPORT_operator",children:[(0,l.jsx)(n.code,{children:"IMPORT"}),"\u64CD\u4F5C\u7B26"]}),"\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u793A\u4F8B",children:"\u793A\u4F8B"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lsf",children:"import()  {\n\n    LOCAL xlsFile = EXCELFILE ();\n\n    LOCAL field1 = BPSTRING[50] (INTEGER);\n    LOCAL field2 = BPSTRING[50] (INTEGER);\n    LOCAL field3 = BPSTRING[50] (INTEGER);\n    LOCAL field4 = BPSTRING[50] (INTEGER);\n\n    LOCAL headField1 = BPSTRING[50] ();\n    LOCAL headField2 = BPSTRING[50] ();\n\n    INPUT f = EXCELFILE DO {\n        IMPORT XLS SHEET 2 FROM f TO field1 = C, field2, field3 = F, field4 = A;\n        IMPORT XLS SHEET ALL FROM f TO field1 = C, field2, field3 = F, field4 = A;\n\n        FOR imported(INTEGER i) DO { // imported\u5C5E\u6027 - \u7528\u4E8E\u8FED\u4EE3\u6570\u636E\u7684\u7CFB\u7EDF\u5C5E\u6027\n            MESSAGE 'field1\u503C = ' + field1(i);\n            MESSAGE 'field2\u503C = ' + field2(i);\n            MESSAGE 'field3\u503C = ' + field3(i);\n            MESSAGE 'field4\u503C = ' + field4(i);\n       }\n    }\n\n    LOCAL t = FILE ();\n    EXTERNAL SQL 'jdbc:postgresql://localhost/test?user=postgres&password=12345' EXEC 'SELECT x.a,x.b,x.c,x.d FROM orders x WHERE x.id = $1;' PARAMS '4553' TO t;\n    IMPORT FROM t() FIELDS INTEGER a, DATE b, BPSTRING[50] c, BPSTRING[50] d DO        // \u4F7F\u7528FIELDS\u9009\u9879\u5BFC\u5165\n        NEW o = Order {\n            number(o) <- a;\n            date(o) <- b;\n            customer(o) <- c;\n            currency(o) <- GROUP MAX Currency currency IF name(currency) = d; // \u67E5\u627E\u5177\u6709\u6B64\u540D\u79F0\u7684\u8D27\u5E01\n        }\n\n\n    INPUT f = FILE DO\n        IMPORT CSV '*' HEADER CHARSET 'utf-8' FROM f TO field1 = C, field2, field3 = F, field4 = A;\n    INPUT f = FILE DO\n        IMPORT XML ATTR FROM f TO field1, field2;\n    INPUT f = FILE DO\n        IMPORT XML ROOT 'element' ATTR FROM f TO field1, field2;\n    INPUT f = FILE DO\n        IMPORT XML ATTR FROM f TO() headField1, headField2;\n\n    INPUT f = FILE DO\n        INPUT memo = FILE DO\n            IMPORT DBF MEMO memo FROM f TO field1 = 'DBFField1', field2 = 'DBFField2';\n}\n"})})]})}function f(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},28453:function(e,n,r){r.d(n,{R:()=>s,x:()=>d});var i=r(96540);let l={},t=i.createContext(l);function s(e){let n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);