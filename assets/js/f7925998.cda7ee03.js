"use strict";(self.webpackChunkls_fusion_docs=self.webpackChunkls_fusion_docs||[]).push([["79607"],{33488:function(e,n,r){r.r(n),r.d(n,{metadata:()=>i,default:()=>a,frontMatter:()=>d,contentTitle:()=>l,toc:()=>o,assets:()=>t});var i=JSON.parse('{"id":"Access_from_an_external_system","title":"\u4ECE\u5916\u90E8\u7CFB\u7EDF\u8BBF\u95EE","description":"Action API","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/Access_from_an_external_system.md","sourceDirName":".","slug":"/Access_from_an_external_system","permalink":"/Access_from_an_external_system","draft":false,"unlisted":false,"editUrl":"https://github.com/lsfusion/platform/edit/master/docs/zh-CN/Access_from_an_external_system.md","tags":[],"version":"current","lastUpdatedAt":null,"frontMatter":{"title":"\u4ECE\u5916\u90E8\u7CFB\u7EDF\u8BBF\u95EE"},"sidebar":"learn","previous":{"title":"\u96C6\u6210","permalink":"/Integration"},"next":{"title":"\u4ECE\u5185\u90E8\u7CFB\u7EDF\u8BBF\u95EE","permalink":"/Access_from_an_internal_system"}}'),s=r(74848),c=r(28453);let d={title:"\u4ECE\u5916\u90E8\u7CFB\u7EDF\u8BBF\u95EE"},l,t={},o=[{value:"Action API",id:"action-api",level:2},{value:"\u5B9A\u4E49\u64CD\u4F5C",id:"actiontype",level:3},{value:"\u534F\u8BAE",id:"\u534F\u8BAE",level:3},{value:"HTTP",id:"http",level:4},{value:"\u53C2\u6570",id:"url",level:5},{value:"\u7ED3\u679C",id:"httpresult",level:5},{value:"BODY \u4E2D\u7684\u591A\u4E2A\u7ED3\u679C/\u53C2\u6570",id:"body-\u4E2D\u7684\u591A\u4E2A\u7ED3\u679C\u53C2\u6570",level:5},{value:"\u6709\u72B6\u6001 API",id:"\u6709\u72B6\u6001-api",level:5},{value:"\u8BA4\u8BC1",id:"\u8BA4\u8BC1",level:5},{value:"Form API",id:"form",level:2},{value:"\u534F\u8BAE",id:"\u534F\u8BAE-1",level:3},{value:"JavaScript",id:"javascript",level:4},{value:"\u793A\u4F8B",id:"\u793A\u4F8B",level:2},{value:"Action API\uFF08Python\uFF09",id:"action-apipython",level:3},{value:"Form API\uFF08JavaScript\uFF09",id:"form-apijavascript",level:3}];function h(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"action-api",children:"Action API"}),"\n",(0,s.jsxs)(n.p,{children:["\u8BE5\u5E73\u53F0\u5141\u8BB8\u5916\u90E8\u7CFB\u7EDF\u4F7F\u7528\u5404\u79CD\u7F51\u7EDC\u534F\u8BAE\u8BBF\u95EE\u57FA\u4E8E lsFusion \u7684\u7CFB\u7EDF\u3002\u6B64\u7C7B\u4EA4\u4E92\u7684\u63A5\u53E3\u662F\u8C03\u7528\u5177\u6709\u6307\u5B9A\u53C2\u6570\u7684\u64CD\u4F5C\uFF0C\u4EE5\u53CA\u5728\u5FC5\u8981\u65F6\u8FD4\u56DE\u67D0\u4E9B\u5C5E\u6027\u503C\uFF08\u65E0\u53C2\u6570\uFF09\u4F5C\u4E3A",(0,s.jsx)(n.em,{children:"\u7ED3\u679C"}),"\u3002\u5047\u8BBE\u6240\u6709\u53C2\u6570\u548C\u7ED3\u679C\u5BF9\u8C61\u90FD\u662F ",(0,s.jsx)(n.a,{href:"/Built-in_classes",children:"\u5185\u7F6E\u7C7B"})," \u7684\u5BF9\u8C61\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"actiontype",children:"\u5B9A\u4E49\u64CD\u4F5C"}),"\n",(0,s.jsx)(n.p,{children:"\u88AB\u8C03\u7528\u7684\u64CD\u4F5C\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u4E09\u79CD\u65B9\u5F0F\u4E4B\u4E00\u5B9A\u4E49\uFF1A"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EXEC"})," \u2013 \u6307\u5B9A\u64CD\u4F5C\u7684\u540D\u79F0\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EVAL"})," \u2013 \u6307\u5B9A lsFusion \u8BED\u8A00\u7684\u4EE3\u7801\u3002\u5047\u8BBE\u6B64\u4EE3\u7801\u5305\u542B\u4E00\u4E2A\u540D\u4E3A ",(0,s.jsx)(n.code,{children:"run"})," \u7684\u64CD\u4F5C\u58F0\u660E\u3002\u8FD9\u5C06\u662F\u88AB\u8C03\u7528\u7684\u64CD\u4F5C\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EVAL ACTION"})," \u2013 \u6307\u5B9A lsFusion \u8BED\u8A00\u7684\u64CD\u4F5C\u4EE3\u7801\u3002\u8981\u8BBF\u95EE\u53C2\u6570\uFF0C\u4F7F\u7528\u7279\u6B8A\u5B57\u7B26 ",(0,s.jsx)(n.code,{children:"$"})," \u548C\u53C2\u6570\u7F16\u53F7\uFF08\u4ECE ",(0,s.jsx)(n.code,{children:"1"})," \u5F00\u59CB\uFF09\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u534F\u8BAE",children:"\u534F\u8BAE"}),"\n",(0,s.jsx)(n.p,{children:"\u8BE5\u5E73\u53F0\u76EE\u524D\u652F\u6301\u4EE5\u4E0B\u7F51\u7EDC\u534F\u8BAE\uFF1A"}),"\n",(0,s.jsx)(n.h4,{id:"http",children:"HTTP"}),"\n",(0,s.jsxs)(n.p,{children:["\u6B64\u534F\u8BAE\u7684\u901A\u4FE1\u540C\u65F6\u652F\u6301\u5E94\u7528\u670D\u52A1\u5668\uFF08\u7AEF\u53E3 ",(0,s.jsx)(n.code,{children:"7651"}),"\uFF09\u548C\u540C\u4E00\u7AEF\u53E3\u4E0A\u5B89\u88C5\u4E86 Web \u5BA2\u6237\u7AEF\u7684 Web \u670D\u52A1\u5668\uFF08\u5982\u679C\u6709\uFF09\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["URL \u683C\u5F0F\u6839\u636E ",(0,s.jsx)(n.a,{href:"#actiontype",children:"\u64CD\u4F5C\u5B9A\u4E49"})," \u7684\u65B9\u6CD5\u5982\u4E0B\uFF1A"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EXEC"})," - ",(0,s.jsx)(n.code,{children:"http://\u670D\u52A1\u5668\u5730\u5740:\u7AEF\u53E3/exec?action=<\u64CD\u4F5C\u540D\u79F0>"}),"\u3002",(0,s.jsx)(n.code,{children:"action"})," \u53C2\u6570\u5FC5\u987B\u59CB\u7EC8\u6307\u5B9A\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EVAL"})," - ",(0,s.jsx)(n.code,{children:"http://\u670D\u52A1\u5668\u5730\u5740:\u7AEF\u53E3/eval?script=<\u4EE3\u7801>"}),". \u5982\u679C\u672A\u6307\u5B9A ",(0,s.jsx)(n.code,{children:"script"})," \u53C2\u6570\uFF0C\u5219\u5047\u5B9A\u4EE3\u7801\u5728\u7B2C\u4E00\u4E2A BODY \u53C2\u6570\u4E2D\u4F20\u9012\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"EVAL ACTION"})," \u2013 ",(0,s.jsx)(n.code,{children:"http://\u670D\u52A1\u5668\u5730\u5740:\u7AEF\u53E3/eval/action?script=<\u64CD\u4F5C\u4EE3\u7801>"}),". \u5982\u679C\u672A\u6307\u5B9A ",(0,s.jsx)(n.code,{children:"script"})," \u53C2\u6570\uFF0C\u5219\u5047\u5B9A\u4EE3\u7801\u5728\u7B2C\u4E00\u4E2A BODY \u53C2\u6570\u4E2D\u4F20\u9012\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h5,{id:"url",children:"\u53C2\u6570"}),"\n",(0,s.jsxs)(n.p,{children:["\u53C2\u6570\u53EF\u4EE5\u5728\u8BF7\u6C42\u5B57\u7B26\u4E32\u4E2D\u4F20\u9012\uFF08\u901A\u8FC7\u5728\u5B57\u7B26\u4E32\u672B\u5C3E\u9644\u52A0 ",(0,s.jsx)(n.code,{children:"&p=<\u53C2\u6570\u503C>"})," \u4E4B\u7C7B\u7684\u6784\u9020\uFF09\uFF0C\u4E5F\u53EF\u4EE5\u5728\u8BF7\u6C42\u4F53\uFF08BODY\uFF09\u4E2D\u4F20\u9012\u3002\u5047\u5B9A URL \u53C2\u6570\uFF08\u6309\u5176\u5728\u8BF7\u6C42\u4E2D\u51FA\u73B0\u7684\u987A\u5E8F\uFF09\u5728 BODY \u53C2\u6570\u4E4B\u524D\u88AB\u66FF\u6362\u4E3A\u6267\u884C\u7684\u64CD\u4F5C\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5904\u7406 BODY \u53C2\u6570\u65F6\uFF0C\u5177\u6709\u6765\u81EA\u4EE5\u4E0B ",(0,s.jsx)(n.a,{href:"https://github.com/lsfusion/platform/blob/master/api/src/main/resources/MIMETypes.properties",children:"\u8868"})," \u7684\u5185\u5BB9\u7C7B\u578B\u7684\u53C2\u6570\u88AB\u89C6\u4E3A\u6587\u4EF6\uFF0C\u5E76\u4F5C\u4E3A\u6587\u4EF6\u7C7B\uFF08",(0,s.jsx)(n.code,{children:"FILE"}),"\u3001",(0,s.jsx)(n.code,{children:"PDFFILE"})," \u7B49\uFF09\u7684\u5BF9\u8C61\u4F20\u9012\u7ED9\u64CD\u4F5C\u53C2\u6570\u3002\u5728\u6B64\u8FC7\u7A0B\u4E2D\uFF0C\u76F8\u5E94\u7684\u6587\u4EF6\u6269\u5C55\u540D\u4ECE\u4E0A\u8FF0\u8868\u4E2D\u83B7\u53D6\u3002\u5982\u679C\u5728\u8868\u4E2D\u627E\u4E0D\u5230\u7279\u5B9A\u7684\u5185\u5BB9\u7C7B\u578B\uFF0C\u4F46\u5B83\u4EE5 ",(0,s.jsx)(n.code,{children:"application"})," \u5F00\u5934\uFF0C\u5219\u8BE5\u53C2\u6570\u4ECD\u88AB\u89C6\u4E3A\u6587\u4EF6\uFF0C\u5E76\u4E14\u6587\u4EF6\u6269\u5C55\u540D\u4ECE\u5185\u5BB9\u7C7B\u578B\u7684\u53F3\u4FA7\u90E8\u5206\u83B7\u53D6\uFF08\u4F8B\u5982\uFF0C\u5BF9\u4E8E ",(0,s.jsx)(n.code,{children:"application/abc"})," \u5185\u5BB9\u7C7B\u578B\uFF0C\u5B83\u5C06\u662F ",(0,s.jsx)(n.code,{children:"abc"}),"\uFF09\u3002\u5177\u6709 ",(0,s.jsx)(n.code,{children:"application/null"})," \u5185\u5BB9\u7C7B\u578B\u7684\u53C2\u6570\u88AB\u89C6\u4E3A\u7B49\u4E8E ",(0,s.jsx)(n.code,{children:"NULL"}),"\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5185\u5BB9\u7C7B\u578B\u4E0D\u540C\u4E8E\u4E0A\u8FF0\u7C7B\u578B\u7684 BODY \u53C2\u6570\u88AB\u89C6\u4E3A\u5B57\u7B26\u4E32\uFF0C\u5E76\u5728\u8C03\u7528\u65F6\u81EA\u52A8\u8F6C\u6362\u4E3A\u88AB\u8C03\u7528\u64CD\u4F5C\u7684\u53C2\u6570\u7C7B\u3002\u7A7A\u5B57\u7B26\u4E32\u88AB\u8F6C\u6362\u4E3A ",(0,s.jsx)(n.code,{children:"NULL"}),"\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5DF2\u6267\u884C\u8BF7\u6C42\u7684 ",(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/List_of_HTTP_header_fields",children:"\u6807\u5934"})," \u81EA\u52A8\u4FDD\u5B58\u5230 ",(0,s.jsx)(n.code,{children:"System.headers[TEXT]"})," \u5C5E\u6027\u3002\u6807\u5934\u7684\u540D\u79F0\u5199\u5165\u6B64\u5C5E\u6027\u7684\u552F\u4E00\u53C2\u6570\uFF0C\u6807\u5934\u7684\u503C\u5199\u5165\u5C5E\u6027\u7684\u503C\u3002"]}),"\n",(0,s.jsx)(n.h5,{id:"httpresult",children:"\u7ED3\u679C"}),"\n",(0,s.jsxs)(n.p,{children:["\u5176\u503C\u5FC5\u987B\u4F5C\u4E3A\u7ED3\u679C\u8FD4\u56DE\u7684\u5C5E\u6027\u901A\u8FC7\u5728\u8BF7\u6C42\u5B57\u7B26\u4E32\u672B\u5C3E\u6DFB\u52A0 ",(0,s.jsx)(n.code,{children:"&return=<\u5C5E\u6027\u540D\u79F0>"})," \u4E4B\u7C7B\u7684\u5B57\u7B26\u4E32\u4F20\u9012\u3002\u5047\u5B9A\u6307\u5B9A\u5C5E\u6027\u7684\u503C\u6309\u5176\u5728\u8BF7\u6C42\u5B57\u7B26\u4E32\u4E2D\u51FA\u73B0\u7684\u987A\u5E8F\u8FD4\u56DE\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u5982\u679C\u672A\u6307\u5B9A\u7ED3\u679C\u5C5E\u6027\uFF0C\u5219\u7ED3\u679C\u5C5E\u6027\u662F\u4EE5\u4E0B ",(0,s.jsx)(n.a,{href:"/Built-in_classes#export",children:"\u5217\u8868"})," \u4E2D\u7B2C\u4E00\u4E2A\u5177\u6709\u975E ",(0,s.jsx)(n.code,{children:"NULL"})," \u503C\u7684\u5C5E\u6027\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5982\u679C\u8BF7\u6C42\u7684\u7ED3\u679C\u662F\u6587\u4EF6\uFF08",(0,s.jsx)(n.code,{children:"FILE"}),"\u3001",(0,s.jsx)(n.code,{children:"PDFFILE"})," \u7B49\uFF09\uFF0C\u5219\u54CD\u5E94\u7684 ",(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Media_type",children:"\u5185\u5BB9\u7C7B\u578B"})," \u6839\u636E\u6587\u4EF6\u6269\u5C55\u540D\u6309\u7167\u4EE5\u4E0B ",(0,s.jsx)(n.a,{href:"https://github.com/lsfusion/platform/blob/master/api/src/main/resources/MIMETypes.properties",children:"\u8868"})," \u786E\u5B9A\u3002\u5982\u679C\u5728\u6B64\u8868\u4E2D\u627E\u4E0D\u5230\u6587\u4EF6\u6269\u5C55\u540D\uFF0C\u5219\u5185\u5BB9\u7C7B\u578B\u8BBE\u7F6E\u4E3A ",(0,s.jsx)(n.code,{children:"application/<\u6587\u4EF6\u6269\u5C55\u540D>"}),"\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u6587\u4EF6\u6269\u5C55\u540D\u81EA\u52A8\u786E\u5B9A\uFF0C\u7C7B\u4F3C\u4E8E ",(0,s.jsxs)(n.a,{href:"/WRITE_operator",children:[(0,s.jsx)(n.code,{children:"WRITE"})," \u64CD\u4F5C\u7B26"]}),"\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u4E0A\u8FF0\u4E09\u79CD\u60C5\u51B5\u4E0B\uFF0C\u5982\u679C\u7ED3\u679C\u503C\u4E3A ",(0,s.jsx)(n.code,{children:"NULL"}),"\uFF0C\u5219\u5728\u5185\u5BB9\u7C7B\u578B\u4E2D\u7528 ",(0,s.jsx)(n.code,{children:"null"})," \u5B57\u7B26\u4E32\uFF08\u4F8B\u5982\uFF0C",(0,s.jsx)(n.code,{children:"application/null"}),"\uFF09\u66FF\u6362\u6587\u4EF6\u6269\u5C55\u540D\uFF0C\u5E76\u8FD4\u56DE\u7A7A\u5B57\u7B26\u4E32\u4F5C\u4E3A\u54CD\u5E94\u672C\u8EAB\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u4E0D\u540C\u4E8E\u6587\u4EF6\u7684\u8BF7\u6C42\u7ED3\u679C\u88AB\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\uFF0C\u5E76\u4F5C\u4E3A ",(0,s.jsx)(n.code,{children:"text/plain"})," \u5185\u5BB9\u7C7B\u578B\u4F20\u9012\u3002",(0,s.jsx)(n.code,{children:"NULL"})," \u503C\u8FD4\u56DE\u4E3A\u7A7A\u5B57\u7B26\u4E32\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"System.headersTo[TEXT]"})," \u5C5E\u6027\u7684\u503C\u81EA\u52A8\u5199\u5165\u8BF7\u6C42\u7ED3\u679C\u7684 ",(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/List_of_HTTP_header_fields",children:"\u6807\u5934"}),"\u3002\u56E0\u6B64\uFF0C\u6807\u5934\u540D\u79F0\u4ECE\u6B64\u5C5E\u6027\u7684\u552F\u4E00\u53C2\u6570\u8BFB\u53D6\uFF0C\u6807\u5934\u503C\u4ECE\u5C5E\u6027\u503C\u8BFB\u53D6\u3002"]}),"\n",(0,s.jsx)(n.h5,{id:"body-\u4E2D\u7684\u591A\u4E2A\u7ED3\u679C\u53C2\u6570",children:"BODY \u4E2D\u7684\u591A\u4E2A\u7ED3\u679C/\u53C2\u6570"}),"\n",(0,s.jsxs)(n.p,{children:["\u5982\u679C\u8BF7\u6C42 BODY \u7684\u7C7B\u578B\u4E3A ",(0,s.jsx)(n.code,{children:"multipart/*"})," \u6216 ",(0,s.jsx)(n.code,{children:"application/x-www-form-urlencoded"}),"\uFF0C\u5B83\u5C06\u88AB\u62C6\u5206\u4E3A\u591A\u4E2A\u90E8\u5206\uFF0C\u6BCF\u4E2A\u90E8\u5206\u5C06\u88AB\u89C6\u4E3A\u5355\u72EC\u7684\u8BF7\u6C42\u53C2\u6570\u3002\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u8FD9\u4E9B\u53C2\u6570\u7684\u987A\u5E8F\u7B49\u4E8E\u8BF7\u6C42 BODY \u76F8\u5E94\u90E8\u5206\u4E2D\u7684\u987A\u5E8F\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u540C\u65F6\uFF0C\u5982\u679C\u8FD4\u56DE\u7684\u7ED3\u679C\u6570\u91CF\u591A\u4E8E\u4E00\u4E2A\uFF0C\u5219\u4F1A\u53D1\u751F\u4EE5\u4E0B\u60C5\u51B5\uFF1A"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u5982\u679C\u8BF7\u6C42\u5177\u6709 ",(0,s.jsx)(n.code,{children:"returnmultitype=bodyurl"})," \u53C2\u6570\uFF0C\u5219\u4F20\u8F93\u65F6\u7684\u54CD\u5E94\u5185\u5BB9\u7C7B\u578B\u8BBE\u7F6E\u4E3A ",(0,s.jsx)(n.code,{children:"application/x-www-form-urlencoded"}),"\uFF0C\u7ED3\u679C\u88AB\u7F16\u7801\uFF0C\u5C31\u50CF\u5B83\u4EEC\u5728\u8BF7\u6C42\u5B57\u7B26\u4E32\u4E2D\u4F20\u9012\u4E00\u6837\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:["\u5426\u5219\uFF0C\u4F20\u8F93\u8FC7\u7A0B\u4E2D\u7684\u54CD\u5E94\u5185\u5BB9\u7C7B\u578B\u8BBE\u7F6E\u4E3A ",(0,s.jsx)(n.code,{children:"multipart/mixed"}),"\uFF0C\u7ED3\u679C\u4F5C\u4E3A\u6B64\u54CD\u5E94\u7684\u5185\u90E8\u90E8\u5206\u4F20\u9012\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["\u8BF7\u6CE8\u610F\uFF0C\u53C2\u6570\u548C\u8BF7\u6C42\u7ED3\u679C\u7684\u5904\u7406\u4E0E\u901A\u8FC7 HTTP \u534F\u8BAE ",(0,s.jsx)(n.a,{href:"/Access_to_an_external_system_EXTERNAL",children:"\u8BBF\u95EE\u5916\u90E8\u7CFB\u7EDF"})," \u671F\u95F4\u7684\u5904\u7406\u5927\u81F4\u76F8\u4F3C\uFF08\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u53C2\u6570\u88AB\u5904\u7406\u4E3A\u7ED3\u679C\uFF0C\u53CD\u4E4B\u4EA6\u7136\uFF0C\u7ED3\u679C\u88AB\u5904\u7406\u4E3A\u53C2\u6570\uFF09\u3002"]})}),"\n",(0,s.jsx)(n.h5,{id:"\u6709\u72B6\u6001-api",children:"\u6709\u72B6\u6001 API"}),"\n",(0,s.jsxs)(n.p,{children:["\u4E0A\u8FF0 API \u662F REST API\u3002\u56E0\u6B64\uFF0C",(0,s.jsx)(n.a,{href:"/Change_sessions",children:"\u53D8\u66F4\u4F1A\u8BDD"})," \u5728\u8C03\u7528\u542F\u52A8\u65F6\u521B\u5EFA\uFF0C\u5E76\u5728\u8C03\u7528\u7ED3\u675F\u540E\u7ACB\u5373\u5173\u95ED\u3002\u4F46\u662F\uFF0C\u5728\u67D0\u4E9B\u60C5\u51B5\u4E0B\uFF0C\u8FD9\u79CD\u884C\u4E3A\u662F\u4E0D\u53EF\u53D6\u7684\uFF0C\u60A8\u9700\u8981\u5728\u4E00\u6BB5\u65F6\u95F4\u5185\u7D2F\u79EF\u66F4\u6539\uFF08\u4F8B\u5982\uFF0C\u5F53\u7528\u6237\u8F93\u5165\u6570\u636E\u65F6\uFF09\uFF0C\u8FD9\u610F\u5473\u7740\u4F1A\u8BDD\u5FC5\u987B\u4FDD\u5B58\u5E76\u5728\u4F1A\u8BDD\u4E4B\u95F4\u4F20\u9012\u3002\u4E3A\u6B64\uFF0C\u60A8\u53EF\u4EE5\u5728\u67E5\u8BE2\u5B57\u7B26\u4E32\u672B\u5C3E\u6DFB\u52A0\u4EE5\u4E0B\u683C\u5F0F\u7684\u5B57\u7B26\u4E32\uFF1A",(0,s.jsx)(n.code,{children:"&session=<\u4F1A\u8BDD ID>"}),"\uFF0C\u5176\u4E2D ",(0,s.jsx)(n.code,{children:"<\u4F1A\u8BDD ID>"})," \u662F\u4EFB\u4F55\u975E\u7A7A\u5B57\u7B26\u4E32\u3002\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u4F1A\u8BDD\u5728\u8C03\u7528\u540E\u4E0D\u4F1A\u5173\u95ED\uFF0C\u800C\u662F\u4E0E\u4F1A\u8BDD\u524D\u4F20\u9012\u7684 ID \u76F8\u5173\u8054\uFF0C\u4EE5\u4FBF\u6240\u6709\u4F7F\u7528\u6B64 ID \u7684\u540E\u7EED\u8C03\u7528\u90FD\u5C06\u5728\u6B64\u4F1A\u8BDD\u4E2D\u6267\u884C\u3002\u4E3A\u4E86\u5173\u95ED\u4F1A\u8BDD\uFF08\u8C03\u7528\u7ED3\u675F\u540E\uFF09\uFF0C\u60A8\u9700\u8981\u5728\u8BF7\u6C42\u5B57\u7B26\u4E32\u4E2D\u7684 ID \u6DFB\u52A0 ",(0,s.jsx)(n.code,{children:"_close"})," \u540E\u7F00\uFF08\u4F8B\u5982\uFF0C",(0,s.jsx)(n.code,{children:"&session=0_close"}),"\uFF09\u3002"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"\u7531\u4E8E cookie \u6587\u4EF6\u9690\u5F0F\u7528\u4E8E\u5904\u7406 HTTP \u4F1A\u8BDD\uFF0C\u56E0\u6B64\u91CD\u8981\u7684\u662F\u4E0D\u8981\u5FD8\u8BB0\u5728\u6709\u72B6\u6001\u7684 http \u8C03\u7528\u4E4B\u95F4\u4FDD\u5B58/\u4F20\u9012 cookie\uFF08\u4F46\u662F\uFF0C\u8FD9\u901A\u5E38\u7531\u6D4F\u89C8\u5668\u3001Java \u4E2D\u7684 HttpClient \u7B49\u81EA\u52A8\u5B8C\u6210\uFF09"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"\u5E73\u53F0\u7684\u5F53\u524D\u5B9E\u73B0\u5047\u8BBE\uFF0C\u5982\u679C\u4F7F\u7528\u4F1A\u8BDD\uFF0C\u5219\u5728\u5F53\u524D\u8C03\u7528\u4E2D\u521B\u5EFA\u7684\u7CFB\u7EDF\u5143\u7D20\uFF08\u4F8B\u5982\uFF0C\u672C\u5730\u5C5E\u6027\uFF09\u4F1A\u88AB\u5220\u9664 \u2014 \u5373\u5B83\u4EEC\u5728\u540E\u7EED\u8C03\u7528\u4E2D\u4E0D\u53EF\u89C1\u3002"})}),"\n",(0,s.jsx)(n.h5,{id:"\u8BA4\u8BC1",children:"\u8BA4\u8BC1"}),"\n",(0,s.jsx)(n.p,{children:"\u6267\u884C http \u8BF7\u6C42\u65F6\uFF0C\u901A\u5E38\u9700\u8981\u6807\u8BC6\u4EE3\u8868\u5176\u6267\u884C\u6307\u5B9A\u64CD\u4F5C\u7684\u7528\u6237\u3002\u76EE\u524D\uFF0C\u5E73\u53F0\u652F\u6301\u4E24\u79CD\u7C7B\u578B\u7684\u8BA4\u8BC1\uFF1A"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Basic_access_authentication",children:"\u57FA\u672C\u6807\u8BC6"})," - \u7528\u6237\u540D\u548C\u5BC6\u7801\u4EE5\u7F16\u7801\u5F62\u5F0F\u5728 ",(0,s.jsx)(n.code,{children:"Authorization: Basic <\u51ED\u8BC1>"})," \u6807\u9898\u4E2D\u4F20\u9012\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:["\u57FA\u4E8E\u4EE4\u724C\u7684\u8BA4\u8BC1\u5305\u62EC\u4E24\u4E2A\u9636\u6BB5\uFF1A","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u5728\u7B2C\u4E00\u9636\u6BB5\uFF0C\u60A8\u9700\u8981\u4F7F\u7528\u57FA\u672C\u8BA4\u8BC1\u6267\u884C ",(0,s.jsx)(n.code,{children:"Authentication.getAuthToken[]"})," \u64CD\u4F5C\u3002\u6B64\u64CD\u4F5C\u7684\u7ED3\u679C\u5C06\u662F\u5177\u6709\u56FA\u5B9A\u751F\u547D\u5468\u671F\u7684\u8BA4\u8BC1\u4EE4\u724C\uFF08\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u4E3A\u4E00\u5929\uFF09\u3002\u8BF7\u6C42\u793A\u4F8B\uFF1A",(0,s.jsx)(n.code,{children:"http://localhost/exec?action=getAuthToken"}),"\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:["\u60A8\u6536\u5230\u7684\u4EE4\u724C\u53EF\u4EE5\u901A\u8FC7\u5728 ",(0,s.jsx)(n.code,{children:"Authorization: Bearer <token>"})," \u6807\u5934\u4E2D\u4F20\u9012\u6765\u5728\u5176\u751F\u547D\u5468\u671F\u5185\u7528\u4E8E\u8BA4\u8BC1\uFF08\u7C7B\u4F3C\u4E8E\u5E73\u53F0\u5F53\u524D\u5B9E\u73B0\u4E2D\u7528\u4E8E\u751F\u6210\u8BA4\u8BC1\u4EE4\u724C\u7684 JWT\uFF09\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"form",children:"Form API"}),"\n",(0,s.jsxs)(n.p,{children:["\u9664\u4E86\u6267\u884C\u64CD\u4F5C\u5916\uFF0C\u5E73\u53F0\u8FD8\u652F\u6301\u7528\u4E8E\u5904\u7406 ",(0,s.jsx)(n.a,{href:"/Forms",children:"\u8868\u5355"})," \u7684 API\uFF08\u7C7B\u4F3C\u4E8E JSON API\uFF09\uFF0C\u6216\u8005\u66F4\u5177\u4F53\u5730\u8BF4\uFF0C\u5904\u7406\u5B83\u4EEC\u7684 ",(0,s.jsx)(n.a,{href:"/Interactive_view",children:"\u4EA4\u4E92\u5F0F\u89C6\u56FE"}),"\u3002\u7531\u4E8E\u5B83\u662F\u4E13\u4E3A\u5F02\u6B65\u6A21\u5F0F\u8BBE\u8BA1\u7684\u6709\u72B6\u6001 API\uFF08\u8FD9\u610F\u5473\u7740 HTTPS \u63A5\u53E3\u672C\u8EAB\u5177\u6709\u8BB8\u591A\u7CFB\u7EDF\u53C2\u6570\uFF0C\u4F8B\u5982\u8BF7\u6C42\u7D22\u5F15\u3001\u6700\u65B0\u63A5\u6536\u7684\u54CD\u5E94\u7684\u7D22\u5F15\u7B49\uFF09\uFF0C\u56E0\u6B64\u4F7F\u7528\u9488\u5BF9\u60A8\u8981\u96C6\u6210\u7684\u7279\u5B9A\u8BED\u8A00/\u5E73\u53F0\u7684\u7279\u6B8A\u5E93\u6765\u4F7F\u7528\u6B64 API \u4F1A\u66F4\u5BB9\u6613\uFF1A"]}),"\n",(0,s.jsx)(n.h3,{id:"\u534F\u8BAE-1",children:"\u534F\u8BAE"}),"\n",(0,s.jsx)(n.h4,{id:"javascript",children:"JavaScript"}),"\n",(0,s.jsxs)(n.p,{children:["JavaScript \u5E93\u53EF\u5728\u4E2D\u592E npm \u5B58\u50A8\u5E93\u4E2D\u4EE5 ",(0,s.jsx)(n.a,{href:"https://www.npmjs.com/~lsfusion",children:"@lsfusion/core"})," \u540D\u79F0\u83B7\u53D6\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u6B64 API \u4E2D\u7684\u5173\u952E\u6982\u5FF5\u662F",(0,s.jsx)(n.em,{children:"\u72B6\u6001"}),"\u6982\u5FF5\u3002\u72B6\u6001\u662F\u4E00\u4E2A JS \u5BF9\u8C61\uFF0C\u5176\u7ED3\u6784\u4E0E\u8868\u5355\u5143\u7D20\u7684\u5BF9\u5E94\u5173\u7CFB\u5982\u4E0B\uFF1A"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/Form_structure#objects",children:"\u5BF9\u8C61\u7EC4"})," \u5BF9\u5E94\u4E8E\u5B58\u50A8\u5728\u72B6\u6001\u5BF9\u8C61\u7684 js \u5B57\u6BB5\u4E2D\u7684 JS \u5BF9\u8C61\u3002\u5B57\u6BB5\u540D\u79F0\u4E0E\u5BF9\u8C61\u7EC4\u540D\u79F0\u5339\u914D\u3002\u5BF9\u8C61\u7EC4\u4E2D\u7684\u6BCF\u4E2A JS \u5BF9\u8C61\u53C8\u5728 ",(0,s.jsx)(n.code,{children:"list"})," \u5B57\u6BB5\u4E2D\u5B58\u50A8 JS \u5BF9\u8C61\u6570\u7EC4\uFF08\u8003\u8651\u4E86 ",(0,s.jsx)(n.a,{href:"/Form_structure#filters",children:"\u8FC7\u6EE4\u5668"})," \u548C ",(0,s.jsx)(n.a,{href:"/Form_structure#sort",children:"\u987A\u5E8F"}),"\uFF09\u3002\u5BF9\u8C61\u7EC4\u7684 JS \u5BF9\u8C61\u5BF9\u5E94\u4E8E ",(0,s.jsx)(n.a,{href:"/Form_structure#currentObject",children:"\u5F53\u524D"})," \u5BF9\u8C61\u96C6\u5408\u3002\u6B64\u5916\uFF0C\u6570\u7EC4\u4E2D\u7684\u6BCF\u4E2A JS \u5BF9\u8C61\uFF08\u5305\u62EC\u5BF9\u8C61\u7EC4\u7684 JS \u5BF9\u8C61\uFF09\u5728 ",(0,s.jsx)(n.code,{children:"value"})," \u5B57\u6BB5\u4E2D\u5B58\u50A8\u5BF9\u8C61\u7684\u503C \u2014 \u5982\u679C\u5BF9\u8C61\u7EC4\u4E2D\u53EA\u6709\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5219\u4EC5\u5B58\u50A8\u503C\uFF1B\u5982\u679C\u6709\u591A\u4E2A\u5BF9\u8C61\uFF0C\u5219\u5B58\u50A8\u4E00\u4E2A JS \u5BF9\u8C61\uFF0C\u5176\u5B57\u6BB5\u540D\u79F0\u7B49\u4E8E\u5BF9\u8C61\u540D\u79F0\uFF0C\u503C\u7B49\u4E8E\u5BF9\u8C61\u503C\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/Properties",children:"\u5C5E\u6027"})," \u5BF9\u5E94\u4E8E\u5B58\u50A8\u5728 JS \u5BF9\u8C61\u5B57\u6BB5\uFF08\u5B57\u6BB5\u540D\u79F0\u7B49\u4E8E\u5C5E\u6027\u540D\u79F0\uFF09\u4E2D\u7684\u503C\uFF0C\u8BE5\u503C\u6839\u636E\u53C2\u6570\u7684\u5B58\u5728\u548C ",(0,s.jsx)(n.a,{href:"/Interactive_view#property",children:"\u5176\u89C6\u56FE"})," \u4EE5\u4EE5\u4E0B\u65B9\u5F0F\u786E\u5B9A\uFF1A","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u5C5E\u6027\u6709\u53C2\u6570\uFF1A","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u5C5E\u6027\u89C6\u56FE\u7B49\u4E8E\u8BE5\u5C5E\u6027\u7684 ",(0,s.jsx)(n.a,{href:"/Form_structure#drawgroup",children:"\u663E\u793A\u7EC4"})," \u7684 JS \u5BF9\u8C61\u7684 ",(0,s.jsx)(n.code,{children:"list"})," \u6570\u7EC4\u4E2D\u7684\u6BCF\u4E2A JS \u5BF9\u8C61\u7684 ",(0,s.jsx)(n.code,{children:"GRID"}),"\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:["\u5C5E\u6027\u7684\u89C6\u56FE\u7B49\u4E8E\u8BE5\u5C5E\u6027\u663E\u793A\u7EC4\u7684 JS \u5BF9\u8C61\u7684 ",(0,s.jsx)(n.code,{children:"PANEL"}),"\u3001",(0,s.jsx)(n.code,{children:"TOOLBAR"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"\u5C5E\u6027\u6CA1\u6709\u53C2\u6570 - \u5C5E\u4E8E JS \u72B6\u6001\u5BF9\u8C61\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u5E93\u7684\u4EFB\u52A1\u662F\u5728\u8868\u5355\u521B\u5EFA\u671F\u95F4\u548C\u540E\u7EED\u4FEE\u6539\u671F\u95F4\u81EA\u52A8\u4FDD\u6301\u4E0A\u8FF0\u72B6\u6001\u7684\u66F4\u65B0\uFF08\u8FD9\u79CD\u884C\u4E3A\u901A\u5E38\u79F0\u4E3A\u53CD\u5E94\u6027\uFF09\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u8BE5\u5E93\u5BFC\u51FA\u4EE5\u4E0B\u51FD\u6570\uFF1A"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"create"})," - \u521B\u5EFA\u4E00\u4E2A\u65B0\u8868\u5355\u3002\u53C2\u6570\uFF1A","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"setState"})," - \u72B6\u6001\u66F4\u6539\u8BF7\u6C42\u51FD\u6570\u3002\u6B64\u51FD\u6570\u5E94\u8BE5\u63A5\u53D7\u5355\u4E2A\u53C2\u6570 \u2014 \u72B6\u6001\u66F4\u6539\u51FD\u6570\uFF08\u8BE5\u51FD\u6570\u53C8\u53EA\u6709\u4E00\u4E2A\u53C2\u6570\uFF0C\u5373\u5148\u524D\u7684\u72B6\u6001\uFF0C\u5E76\u8F93\u51FA\u4E0B\u4E00\u4E2A\u72B6\u6001\u4F5C\u4E3A\u7ED3\u679C\uFF09\uFF0C\u5E76\u4F5C\u4E3A\u6267\u884C\u7684\u7ED3\u679C\u5C06\u6B64\u51FD\u6570\u6DFB\u52A0\u5230\u72B6\u6001\u66F4\u6539\u961F\u5217\u4E2D\uFF08\u6216\u8005\uFF0C\u4F8B\u5982\uFF0C\u6839\u636E\u89C6\u56FE\u903B\u8F91\u7684\u5B9E\u73B0\u7ACB\u5373\u5E94\u7528\u5B83\uFF09\u3002\u8FD9\u79CD\u72B6\u6001\u7BA1\u7406\u903B\u8F91\u4E0E React \u4E2D\u7684\u72B6\u6001\u7BA1\u7406\u903B\u8F91\u5B8C\u5168\u76F8\u540C\uFF0C\u5E76\u4E14\u901A\u5E38\uFF0C\u5982\u679C\u5728 React \u7EC4\u4EF6\u5185\u90E8\u4F7F\u7528\uFF0C",(0,s.jsx)(n.code,{children:"setState"})," \u53C2\u6570\u4F5C\u4E3A ",(0,s.jsx)(n.code,{children:"updateState => this.setState(updateState)"})," \u4F20\u9012\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"baseUrl"})," - lsFusion Web \u670D\u52A1\u5668\u7684 URL - \u5B57\u7B26\u4E32\uFF0C\u4F8B\u5982 ",(0,s.jsx)(n.code,{children:"'https://demo.lsfusion.org/hockeystats'"}),"\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"formData"})," - \u63CF\u8FF0\u8868\u5355\u7684\u5BF9\u8C61\u3002\u5FC5\u987B\u5305\u542B\u5E26\u6709\u8868\u5355\u540D\u79F0\u7684 name \u5B57\u6BB5\uFF08\u4F8B\u5982 ",(0,s.jsx)(n.code,{children:'{name: "MainForm"}'}),"\uFF09\u6216\u5E26\u6709\u8868\u5355\u4EE3\u7801\u7684 script \u5B57\u6BB5\uFF08\u4F8B\u5982\uFF0C",(0,s.jsx)(n.code,{children:'script:"OBJECTS i = Invoice PROPERTIES (i) date, stock"'}),"\uFF09"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"change"})," - \u66F4\u6539\u8868\u5355\u6570\u636E\u3002\u53C2\u6570\uFF1A","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"setState"})," - \u72B6\u6001\u66F4\u6539\u8BF7\u6C42\u51FD\u6570\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"changes"})," - \u5305\u542B\u9700\u8981\u5177\u4F53\u66F4\u6539\u5185\u5BB9\u7684 JS \u5BF9\u8C61\u3002JS \u66F4\u6539\u5BF9\u8C61\u7684\u7ED3\u6784\u4E0E JS \u72B6\u6001\u5BF9\u8C61\u7684\u7ED3\u6784\u76F8\u540C\uFF0C\u9664\u4E86\u5BF9\u8C61\u7EC4\u7684 JS \u5BF9\u8C61\u6CA1\u6709/\u4E0D\u5E94\u8BE5\u6709 ",(0,s.jsx)(n.code,{children:"list"})," \u5B57\u6BB5 \u2014 \u5373\uFF0C\u6240\u6709\u66F4\u6539\u90FD\u5E94\u8BE5\u4E3A\u5F53\u524D\u5BF9\u8C61\u96C6\u5408\u8FDB\u884C\u3002\u4F46\u662F\uFF0C\u5982\u679C\u9700\u8981\uFF0C\u53EF\u4EE5\u5C06 ",(0,s.jsx)(n.code,{children:"value"})," \u8BBE\u7F6E\u4E3A\u5355\u5143\u7D20\u6570\u7EC4\uFF0C\u8FD9\u610F\u5473\u7740\u4E0D\u9700\u8981\u66F4\u6539\u5F53\u524D\u5BF9\u8C61\uFF0C\u4F46\u5E94\u8BE5\u4E3A\u6307\u5B9A\u7684\u5BF9\u8C61\uFF08\u800C\u4E0D\u662F\u5F53\u524D\u5BF9\u8C61\uFF09\u66F4\u6539\u5C5E\u6027\u503C\u3002\u4F8B\u5982\uFF0C",(0,s.jsx)(n.code,{children:"change(setState, {game:{value:[30], hostGoals:40, guestGoals:30}})"})," \u4F1A\u5C06\u8FDB\u7403\u6570\u66F4\u6539\u4E3A ",(0,s.jsx)(n.code,{children:"40"})," \u548C ",(0,s.jsx)(n.code,{children:"30"}),"\uFF0C\u4F46\u4E0D\u662F\u9488\u5BF9\u5F53\u524D\u6E38\u620F\uFF0C\u800C\u662F\u9488\u5BF9\u5BF9\u8C61 id \u4E3A ",(0,s.jsx)(n.code,{children:"30"})," \u7684\u6E38\u620F\u3002\u60A8\u8FD8\u53EF\u4EE5\u5728 JS \u66F4\u6539\u5BF9\u8C61\u4E2D\u6307\u5B9A\u64CD\u4F5C\uFF08JS \u72B6\u6001\u5BF9\u8C61\u4E2D\u6CA1\u6709\u64CD\u4F5C\uFF09\u3002\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u76F8\u5E94\u5B57\u6BB5\u7684\u503C\u53EF\u4EE5\u662F\u4EFB\u610F\u7684\u3002\u4F8B\u5982\uFF0C",(0,s.jsx)(n.code,{children:"change(setState, {game: {doSmthWithGame : true}})"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"currentState"})," - \u5F53\u524D\u72B6\u6001\u7684 JS \u5BF9\u8C61\u3002\u53EF\u9009\u53C2\u6570\u3002\u4E3A\u4E86\u786E\u4FDD\u5F02\u6B65\u6A21\u5F0F\u4E0B\u7684\u6700\u4F73\u7528\u6237\u4F53\u9A8C\uFF0C\u5EFA\u8BAE\u7528\u6237\u4EC5\u66F4\u6539\u4ED6\u5728\u66F4\u6539\u671F\u95F4\u770B\u5230\u7684\u5BF9\u8C61\u7684\u503C\uFF0C\u800C\u4E0D\u662F\u5728\u5904\u7406\u66F4\u6539\u65F6\uFF08\u6B64\u65F6\u72B6\u6001\u53EF\u80FD\u4F1A\u66F4\u6539\uFF0C\u5F53\u524D\u5BF9\u8C61\u4E5F\u53EF\u80FD\u4F1A\u66F4\u6539\uFF09\u3002\u56E0\u6B64\uFF0C\u5728\u8C03\u7528\u6B64\u51FD\u6570\u65F6\uFF0C\u5EFA\u8BAE\u5C06\u7528\u4E8E\u6E32\u67D3\u7528\u6237\u5728\u5176\u4E2D\u53D1\u8D77\u6B64\u66F4\u6539\u7684\u89C6\u56FE\u7684\u72B6\u6001\u4F5C\u4E3A ",(0,s.jsx)(n.code,{children:"currentState"})," \u53C2\u6570\u4F20\u9012\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"close"})," - \u5173\u95ED\u8868\u5355\u3002\u53C2\u6570\uFF1A","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"setState"})," - \u72B6\u6001\u66F4\u6539\u8BF7\u6C42\u51FD\u6570\u3002"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"formCreated"})," - \u68C0\u67E5\u8868\u5355\u662F\u5426\u5DF2\u521D\u59CB\u5316\uFF08\u4EE5\u53CA\u76F8\u5E94\u5730\uFF0C\u72B6\u6001\u662F\u5426\u5DF2\u586B\u5145\uFF09\u3002\u8FD4\u56DE\u5E03\u5C14\u503C\u3002\u53C2\u6570\uFF1A","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"state"})," - JS \u72B6\u6001\u5BF9\u8C61"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"numberOfPendingRequests"})," - \u663E\u793A\u5F53\u524D\u6392\u961F\u7684\u66F4\u6539\u8BF7\u6C42\u6570\u91CF\u3002\u8FD4\u56DE long \u7C7B\u578B\u7684\u503C\u3002\u53C2\u6570\uFF1A","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"state"})," - JS \u72B6\u6001\u5BF9\u8C61"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u4F5C\u4E3A\u5BF9\u8C61\u7EC4\u548C\u5C5E\u6027\u7684\u540D\u79F0\uFF0C\u4F7F\u7528\u7684\u4E0D\u662F\u8868\u5355\u4E0A\u7684\u540D\u79F0\uFF0C\u800C\u662F ",(0,s.jsx)(n.a,{href:"/Structured_view#extid",children:"\u5BFC\u51FA/\u5BFC\u5165"})," \u540D\u79F0\uFF08\u4F46\u662F\uFF0C\u5982\u679C\u672A\u660E\u786E\u5B9A\u4E49\uFF0C\u5219\u5B83\u4EEC\u4E0E\u8868\u5355\u4E0A\u7684\u540D\u79F0\u5339\u914D\uFF09\u3002\u901A\u8FC7 Form API \u5904\u7406\u8868\u5355\u65F6\uFF0C\u4F7F\u7528 ",(0,s.jsx)(n.a,{href:"/Interactive_view#objectoperators",children:"\u5BF9\u8C61\u64CD\u4F5C"})," \u8FD0\u7B97\u7B26 ",(0,s.jsx)(n.code,{children:"NEW"})," \u548C ",(0,s.jsx)(n.code,{children:"DELETE"})," \u521B\u5EFA\u7684\u64CD\u4F5C\u81EA\u52A8\u5206\u522B\u83B7\u5F97\u5BFC\u51FA/\u5BFC\u5165\u540D\u79F0 ",(0,s.jsx)(n.code,{children:"NEW"})," \u548C ",(0,s.jsx)(n.code,{children:"DELETE"}),"\uFF08\u4F8B\u5982\uFF0C\u60A8\u53EF\u4EE5\u8C03\u7528 ",(0,s.jsx)(n.code,{children:"change(setState, {game : {NEW:true}})"})," \u6765\u6DFB\u52A0\u5BF9\u8C61\uFF09\u3002\u6B64\u5916\uFF0C\u5F53\u4F7F\u7528 Form API \u65F6\uFF0C\u5B83\u4F1A\u81EA\u52A8\u5411\u8868\u5355\u6DFB\u52A0\u4E00\u4E2A\u540D\u4E3A ",(0,s.jsx)(n.code,{children:"logMessage"})," \u7684\u5C5E\u6027\uFF0C\u6240\u6709\u5BF9\u8BDD\u6846\u6D88\u606F\u90FD\u5199\u5165\u8BE5\u5C5E\u6027\uFF08\u5305\u62EC\u5728\u8FDD\u53CD ",(0,s.jsx)(n.a,{href:"/Constraints",children:"\u7EA6\u675F"})," \u65F6\u751F\u6210\u7684\u6D88\u606F\uFF09\u3002"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"\u8BA4\u8BC1\u3001\u6709\u72B6\u6001\u548C\u8868\u5355 API \u4EC5\u5728 Web \u670D\u52A1\u5668\u4E0A\u6267\u884C http \u8BF7\u6C42\u65F6\u53D7\u652F\u6301\u3002\u5F53\u5E94\u7528\u670D\u52A1\u5668\uFF08\u6216\u66F4\u5177\u4F53\u5730\u8BF4\uFF0C\u5185\u7F6E Web \u670D\u52A1\u5668\uFF09\u6267\u884C HTTP \u8BF7\u6C42\u65F6\uFF0C\u8BA4\u8BC1\u6807\u5934\u4EE5\u53CA\u5E26\u6709\u4F1A\u8BDD ID \u7684\u53C2\u6570\u4F1A\u88AB\u5FFD\u7565\uFF08\u7528\u6237\u88AB\u89C6\u4E3A\u533F\u540D\uFF09\u3002\u5185\u7F6E Web \u670D\u52A1\u5668\u5B8C\u5168\u4E0D\u652F\u6301 Form API\u3002"})}),"\n",(0,s.jsx)(n.h2,{id:"\u793A\u4F8B",children:"\u793A\u4F8B"}),"\n",(0,s.jsx)(n.h3,{id:"action-apipython",children:"Action API\uFF08Python\uFF09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import json\r\nimport requests\r\nfrom requests_toolbelt.multipart import decoder\r\n\r\nlsfCode = ("run(INTEGER no, DATE date, FILE detail) {\\n"\r\n           "    NEW o = FOrder {\\n"\r\n           "        no(o) <- no;\\n"\r\n           "        date(o) <- date;\\n"\r\n           "        LOCAL detailId = INTEGER (INTEGER);\\n"\r\n           "        LOCAL detailQuantity = INTEGER (INTEGER);\\n"\r\n           "        IMPORT JSON FROM detail TO detailId, detailQuantity;\\n"\r\n           "        FOR imported(INTEGER i) DO {\\n"\r\n           "            NEW od = FOrderDetail {\\n"\r\n           "                id(od) <- detailId(i);\\n"\r\n           "                quantity(od) <- detailQuantity(i);\\n"\r\n           "                price(od) <- 5;\\n"\r\n           "                order(od) <- o;\\n"\r\n           "            }\\n"\r\n           "        }\\n"\r\n           "        APPLY;\\n"\r\n           "        EXPORT JSON FROM price = price(FOrderDetail od), id = id(od) WHERE order(od) == o;\\n"\r\n           "        EXPORT FROM orderPrice(o), exportFile();\\n"\r\n           "    }\\n"\r\n           "}")\r\n\r\norder_no = 354\r\norder_date = \'10.10.2017\'\r\norder_details = [dict(id=1, quantity=10),\r\n                 dict(id=2, quantity=15),\r\n                 dict(id=5, quantity=4),\r\n                 dict(id=10, quantity=18),\r\n                 dict(id=11, quantity=1),\r\n                 dict(id=12, quantity=3)]\r\n\r\norder_json = json.dumps(order_details)\r\n\r\nurl = \'http://localhost:7651/eval\'\r\npayload = {\'script\': lsfCode, \'no\': str(order_no), \'date\': order_date,\r\n           \'detail\': (\'order.json\', order_json, \'text/json\')}\r\n\r\nresponse = requests.post(url, files=payload)\r\nmultipart_data = decoder.MultipartDecoder.from_response(response)\r\n\r\nsum_part, json_part = multipart_data.parts\r\nsum = int(sum_part.text)\r\ndata = json.loads(json_part.text)\r\n\r\n##############################################################\r\n\r\nprint(sum)\r\nfor item in data:\r\n    print(\'{0:3}: price {1}\'.format(int(item[\'id\']), int(item[\'price\'])))\r\n\r\n##############################################################\r\n# 205\r\n#   4: price 5\r\n#  18: price 5\r\n#   3: price 5\r\n#   1: price 5\r\n#  10: price 5\r\n#  15: price 5\n'})}),"\n",(0,s.jsx)(n.h3,{id:"form-apijavascript",children:"Form API\uFF08JavaScript\uFF09"})]})}function a(e={}){let{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:function(e,n,r){r.d(n,{R:()=>d,x:()=>l});var i=r(96540);let s={},c=i.createContext(s);function d(e){let n=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);