"use strict";(self.webpackChunkls_fusion_docs=self.webpackChunkls_fusion_docs||[]).push([["10597"],{44671:function(e,n,s){s.r(n),s.d(n,{metadata:()=>S,default:()=>N,frontMatter:()=>c,contentTitle:()=>a,toc:()=>E,assets:()=>l});var S=JSON.parse('{"id":"New_session_NEWSESSION_NESTEDSESSION","title":"\u65B0\u4F1A\u8BDD\uFF08NEWSESSION\uFF0CNESTEDSESSION\uFF09","description":"\u65B0\u4F1A\u8BDD\u8FD0\u7B97\u7B26\u5141\u8BB8\u60A8\u5728\u4E0D\u540C\u4E8E\u5F53\u524D\u4F1A\u8BDD\u7684\u4F1A\u8BDD\u4E2D\u6267\u884C\u52A8\u4F5C\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/New_session_NEWSESSION_NESTEDSESSION.md","sourceDirName":".","slug":"/New_session_NEWSESSION_NESTEDSESSION","permalink":"/New_session_NEWSESSION_NESTEDSESSION","draft":false,"unlisted":false,"editUrl":"https://github.com/lsfusion/platform/edit/master/docs/zh-CN/New_session_NEWSESSION_NESTEDSESSION.md","tags":[],"version":"current","lastUpdatedAt":null,"frontMatter":{"title":"\u65B0\u4F1A\u8BDD\uFF08NEWSESSION\uFF0CNESTEDSESSION\uFF09"},"sidebar":"learn","previous":{"title":"\u53D6\u6D88\u66F4\u6539\uFF08CANCEL\uFF09","permalink":"/Cancel_changes_CANCEL"},"next":{"title":"\u524D\u503C\uFF08PREV\uFF09","permalink":"/Previous_value_PREV"}}'),r=s(74848),t=s(28453);let c={title:"\u65B0\u4F1A\u8BDD\uFF08NEWSESSION\uFF0CNESTEDSESSION\uFF09"},a,l={},E=[{value:"\u5D4C\u5957\u4F1A\u8BDD",id:"nested",level:3},{value:"\u8BED\u8A00",id:"\u8BED\u8A00",level:3},{value:"\u793A\u4F8B",id:"\u793A\u4F8B",level:3}];function i(e){let n={a:"a",code:"code",em:"em",h3:"h3",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["\u65B0",(0,r.jsx)(n.a,{href:"/Change_sessions",children:"\u4F1A\u8BDD"}),"\u8FD0\u7B97\u7B26\u5141\u8BB8\u60A8\u5728\u4E0D\u540C\u4E8E\u5F53\u524D\u4F1A\u8BDD\u7684\u4F1A\u8BDD\u4E2D\u6267\u884C\u52A8\u4F5C\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["\u4E0E\u5176\u4ED6\u4F1A\u8BDD\u7BA1\u7406\u8FD0\u7B97\u7B26\u4E00\u6837\uFF0C\u60A8\u53EF\u4EE5\u4E3A\u65B0\u4F1A\u8BDD\u8FD0\u7B97\u7B26\u663E\u5F0F\u6307\u5B9A",(0,r.jsx)(n.a,{href:"/Session_management#nested",children:"\u5D4C\u5957\u5C40\u90E8\u5C5E\u6027"}),"\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"nested",children:"\u5D4C\u5957\u4F1A\u8BDD"}),"\n",(0,r.jsxs)(n.p,{children:["\u4E5F\u53EF\u4EE5\u521B\u5EFA\u65B0\u7684",(0,r.jsx)(n.em,{children:"\u5D4C\u5957"}),"\u4F1A\u8BDD\u3002\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u5F53\u524D\u4F1A\u8BDD\u4E2D\u53D1\u751F\u7684\u6240\u6709\u53D8\u66F4\u90FD\u4F1A\u590D\u5236\u5230\u5D4C\u5957\u4F1A\u8BDD\u4E2D\uFF08\u5728\u5D4C\u5957\u4F1A\u8BDD\u4E2D",(0,r.jsx)(n.a,{href:"/Cancel_changes_CANCEL",children:"\u4E22\u5F03\u53D8\u66F4"}),"\u65F6\u4E5F\u4F1A\u53D1\u751F\u540C\u6837\u7684\u60C5\u51B5\uFF09\u3002\u540C\u65F6\uFF0C\u5F53\u60A8\u5728\u5D4C\u5957\u4F1A\u8BDD\u4E2D",(0,r.jsx)(n.a,{href:"/Apply_changes_APPLY",children:"\u5E94\u7528\u53D8\u66F4"}),"\u65F6\uFF0C\u6240\u6709\u53D8\u66F4\u90FD\u4F1A\u590D\u5236\u56DE\u5F53\u524D\u4F1A\u8BDD\uFF08\u800C\u4E0D\u4F1A\u4FDD\u5B58\u5230\u6570\u636E\u5E93\u4E2D\uFF09\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u8BED\u8A00",children:"\u8BED\u8A00"}),"\n",(0,r.jsxs)(n.p,{children:["\u8981\u521B\u5EFA\u5728\u65B0\u4F1A\u8BDD\u4E2D\u6267\u884C\u53E6\u4E00\u4E2A\u52A8\u4F5C\u7684\u52A8\u4F5C\uFF0C\u8BF7\u4F7F\u7528",(0,r.jsxs)(n.a,{href:"/NEWSESSION_operator",children:[(0,r.jsx)(n.code,{children:"NEWSESSION"}),"\u8FD0\u7B97\u7B26"]}),"\uFF08\u5BF9\u4E8E\u5D4C\u5957\u4F1A\u8BDD\uFF0C\u8BF7\u4F7F\u7528",(0,r.jsxs)(n.a,{href:"/NESTEDSESSION_operator",children:[(0,r.jsx)(n.code,{children:"NESTEDSESSION"}),"\u8FD0\u7B97\u7B26"]}),"\uFF09\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u793A\u4F8B",children:"\u793A\u4F8B"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lsf",children:"testNewSession ()  {\n    NEWSESSION {\n        NEW c = Currency {\n            name(c) <- 'USD';\n            code(c) <- 866;\n        }\n        APPLY;\n    }\n    // \u8FD9\u91CC\u7C7BCurrency\u7684\u65B0\u5BF9\u8C61\u5DF2\u7ECF\u5728\u6570\u636E\u5E93\u4E2D\n\n    LOCAL local = BPSTRING[10] (Currency);\n    local(Currency c) <- 'Local';\n    NEWSESSION {\n        MESSAGE (GROUP SUM 1 IF local(Currency c) == 'Local'); // \u5C06\u8FD4\u56DENULL\n    }\n    NEWSESSION NESTED (local) {\n        // \u5C06\u8FD4\u56DE\u7C7BCurrency\u5BF9\u8C61\u7684\u6570\u91CF\n        MESSAGE (GROUP SUM 1 IF local(Currency c) == 'Local'); \n    }\n\n    NEWSESSION {\n        NEW s = Sku {\n            id(s) <- 1234;\n            name(s) <- 'New Sku';\n            SHOW sku OBJECTS s = s;\n        }\n    }\n\n}\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lsf",children:"testNestedSession ()  {\n    NESTEDSESSION {\n        name(Sku s) <- 'aaa';\n        // \u5B9E\u9645\u4E0A\uFF0C\u53D8\u66F4\u4E0D\u4F1A\u5E94\u7528\u5230\u6570\u636E\u5E93\uFF0C\u800C\u662F\u5E94\u7528\u5230\"\u4E0A\u5C42\"\u4F1A\u8BDD\n        APPLY; \n    }\n\n    MESSAGE (GROUP SUM 1 IF name(Sku s) == 'aaa'); // \u8FD4\u56DE\u6240\u6709\u884C\n    CANCEL;\n    // \u5982\u679C\u4E4B\u524D\u6570\u636E\u5E93\u4E2D\u6CA1\u6709\u540D\u4E3Aaaa\u7684Sku\uFF0C\u5219\u8FD4\u56DENULL\n    MESSAGE (GROUP SUM 1 IF name(Sku s) == 'aaa'); \n\n}\n\nFORM sku\n    OBJECTS s = Sku PANEL\n    PROPERTIES(s) id, name\n;\nnewNestedSession()  {\n    NESTEDSESSION {\n        NEW s = Sku {\n            // \u663E\u793A\u8868\u5355\uFF0C\u4F46\u5176\u4E2D\u7684\u4EFB\u4F55\u53D8\u66F4\u90FD\u4E0D\u4F1A\u5E94\u7528\u5230\u6570\u636E\u5E93\uFF0C\n            // \u800C\u662F\u4FDD\u5B58\u5230\"\u4E0A\u5C42\u4F1A\u8BDD\"\u4F1A\u8BDD\u4E2D\n            SHOW sku OBJECTS s = s;\n        }\n    }\n}\n"})})]})}function N(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}},28453:function(e,n,s){s.d(n,{R:()=>c,x:()=>a});var S=s(96540);let r={},t=S.createContext(r);function c(e){let n=S.useContext(t);return S.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),S.createElement(t.Provider,{value:n},e.children)}}}]);