"use strict";(self.webpackChunkls_fusion_docs=self.webpackChunkls_fusion_docs||[]).push([["81224"],{54280:function(e,n,t){t.r(n),t.d(n,{metadata:()=>r,default:()=>u,frontMatter:()=>s,contentTitle:()=>a,toc:()=>d,assets:()=>i});var r=JSON.parse('{"id":"How-to_Filtering_and_ordering","title":"\u8FC7\u6EE4\u548C\u6392\u5E8F","description":"\u793A\u4F8B1","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/How-to_Filtering_and_ordering.md","sourceDirName":".","slug":"/How-to_Filtering_and_ordering","permalink":"/How-to_Filtering_and_ordering","draft":false,"unlisted":false,"editUrl":"https://github.com/lsfusion/platform/edit/master/docs/zh-CN/How-to_Filtering_and_ordering.md","tags":[],"version":"current","lastUpdatedAt":null,"frontMatter":{"title":"\u8FC7\u6EE4\u548C\u6392\u5E8F"},"sidebar":"learn","previous":{"title":"\u5E26\u660E\u7EC6\u884C\u7684\u6587\u6863","permalink":"/How-to_Documents_with_lines"},"next":{"title":"\u8BBE\u8BA1","permalink":"/How-to_Design"}}'),l=t(74848),o=t(28453);let s={title:"\u8FC7\u6EE4\u548C\u6392\u5E8F"},a,i={},d=[{value:"\u793A\u4F8B1",id:"\u793A\u4F8B1",level:2},{value:"\u4EFB\u52A1",id:"\u4EFB\u52A1",level:3},{value:"\u89E3\u51B3\u65B9\u6848",id:"\u89E3\u51B3\u65B9\u6848",level:3},{value:"\u793A\u4F8B2",id:"\u793A\u4F8B2",level:2},{value:"\u4EFB\u52A1",id:"\u4EFB\u52A1-1",level:3},{value:"\u89E3\u51B3\u65B9\u6848",id:"\u89E3\u51B3\u65B9\u6848-1",level:3},{value:"\u793A\u4F8B3",id:"\u793A\u4F8B3",level:2},{value:"\u4EFB\u52A1",id:"\u4EFB\u52A1-2",level:3},{value:"\u89E3\u51B3\u65B9\u6848",id:"\u89E3\u51B3\u65B9\u6848-2",level:3}];function c(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"\u793A\u4F8B1",children:"\u793A\u4F8B1"}),"\n",(0,l.jsx)(n.h3,{id:"\u4EFB\u52A1",children:"\u4EFB\u52A1"}),"\n",(0,l.jsx)(n.p,{children:"\u4ED3\u5E93\u4E2D\u6709\u5269\u4F59\u7684\u4E66\u7C4D\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lsf",children:"CLASS Book 'Book';\nname 'Name' = DATA ISTRING[100] (Book);\n\nCLASS Stock 'Warehouse';\nname 'Name' = DATA ISTRING[100] (Stock);\n\n// \u4F8B\u5982\uFF0C\u5B83\u88AB\u8BBE\u7F6E\u4E3A\u6570\u636E\u5C5E\u6027\uFF0C\u5C3D\u7BA1\u901A\u5E38\u5B83\u662F\u8BA1\u7B97\u5F97\u51FA\u7684\nbalance 'Balance' = DATA INTEGER (Book, Stock); \n"})}),"\n",(0,l.jsx)(n.p,{children:"\u6211\u4EEC\u9700\u8981\u521B\u5EFA\u4E00\u4E2A\u8868\u5355\uFF0C\u6309\u5B57\u6BCD\u987A\u5E8F\u663E\u793A\u7ED9\u5B9A\u4ED3\u5E93\u4E2D\u4E66\u7C4D\u7684\u4F59\u989D\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"\u89E3\u51B3\u65B9\u6848",children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lsf",children:"FORM onStockObject 'Balances'\n    OBJECTS s = Stock PANEL\n    PROPERTIES(s) name SELECTOR\n\n    OBJECTS b = Book\n    PROPERTIES READONLY name(b), balance(b, s)\n    ORDERS name(b)\n\n    // \u9009\u98791\n    FILTERS balance(b, s)\n\n    // \u9009\u98792\n    FILTERGROUP bal\n        FILTER 'With positive balance' balance(b, s) > 0 'F10'\n        FILTER 'With negative balance' balance(b, s) < 0 'F9'\n        FILTER 'With balance' balance(b, s) 'F8' DEFAULT\n        FILTER 'No remainder' NOT balance (b, s) 'F7'\n;\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u9009\u98791\u8BBE\u7F6E\u4E86\u4E00\u4E2A\u7528\u6237\u65E0\u6CD5\u79FB\u9664\u7684\u56FA\u5B9A\u8FC7\u6EE4\u5668\u3002\u9009\u98792\u5141\u8BB8\u7528\u6237\u5728\u9884\u5B9A\u4E49\u7684\u6761\u4EF6\u4E4B\u95F4\u8FDB\u884C\u9009\u62E9\uFF08\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u662F\u8BBE\u7F6E\u4E86",(0,l.jsx)(n.code,{children:"DEFAULT"}),"\u9009\u9879\u7684\u90A3\u4E2A\uFF09\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"\u793A\u4F8B2",children:"\u793A\u4F8B2"}),"\n",(0,l.jsx)(n.h3,{id:"\u4EFB\u52A1-1",children:"\u4EFB\u52A1"}),"\n",(0,l.jsxs)(n.p,{children:["\u7C7B\u4F3C\u4E8E",(0,l.jsx)(n.a,{href:"#example-1",children:(0,l.jsx)(n.strong,{children:"\u793A\u4F8B1"})}),"\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u6211\u4EEC\u9700\u8981\u521B\u5EFA\u4E00\u4E2A\u8868\u5355\uFF0C\u663E\u793A\u591A\u4E2A\u4ED3\u5E93\u4E2D\u7684\u5269\u4F59\u4E66\u7C4D\uFF0C\u5E76\u53EF\u4EE5\u6309\u7279\u5B9A\u4ED3\u5E93\u8FDB\u884C\u8FC7\u6EE4\u3002\u6392\u5E8F\u5E94\u9996\u5148\u6309\u4ED3\u5E93\uFF0C\u7136\u540E\u5728\u4ED3\u5E93\u5185\u6309\u4E66\u540D\u6392\u5E8F\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"\u89E3\u51B3\u65B9\u6848-1",children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lsf",children:"filterStock = DATA LOCAL Stock ();\nnameFilterStock 'Warehouse' = name(filterStock());\n\nFORM onStockLocal 'Balances'\n    PROPERTIES() nameFilterStock\n\n    OBJECTS sb = (s = Stock, b = Book)\n    PROPERTIES READONLY name(s), name(b), balance(b, s)\n    ORDERS name(s), name(b)\n\n    FILTERS s == filterStock() OR NOT filterStock()\n;\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u80FD\u901A\u8FC7",(0,l.jsx)(n.code,{children:"OBJECTS"}),"\u5757\u58F0\u660E\u4ED3\u5E93\uFF0C\u56E0\u4E3A\u8FD9\u6837\u5C31\u65E0\u6CD5\u9009\u62E9\u4E0D\u6307\u5B9A\u4ED3\u5E93\u8FDB\u884C\u8FC7\u6EE4\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"\u793A\u4F8B3",children:"\u793A\u4F8B3"}),"\n",(0,l.jsx)(n.h3,{id:"\u4EFB\u52A1-2",children:"\u4EFB\u52A1"}),"\n",(0,l.jsx)(n.p,{children:"\u6709\u9488\u5BF9\u7279\u5B9A\u5BA2\u6237\u7684\u8BA2\u5355\u5217\u8868"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lsf",children:"CLASS Customer 'Customer';\nname 'Name' = DATA ISTRING[100] (Customer);\n\nCLASS Order 'Order';\ndate 'Date' = DATA DATE (Order);\n\ncustomer 'Customer' = DATA Customer (Order);\nnameCustomer 'Customer' (Order o) = name(customer(o));\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u6211\u4EEC\u9700\u8981\u521B\u5EFA\u4E00\u4E2A\u8868\u5355\uFF0C\u663E\u793A\u8BA2\u5355\u5217\u8868\uFF0C\u5141\u8BB8\u6309\u65E5\u671F\u548C/\u6216\u5BA2\u6237\u8FDB\u884C\u8FC7\u6EE4\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u8BA2\u5355\u5E94\u6309\u65E5\u671F\u964D\u5E8F\u6392\u5217\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"\u89E3\u51B3\u65B9\u6848-2",children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-lsf",children:"filterCustomer = DATA LOCAL Customer ();\nnameFilterCustomer 'Customer' = name(filterCustomer());\n\nFORM orders 'Orders'\n    PROPERTIES() nameFilterCustomer\n\n    OBJECTS dates = (dateFrom = DATE, dateTo = DATE) PANEL\n    PROPERTIES df = VALUE(dateFrom), dt = VALUE(dateTo)\n\n    OBJECTS o = Order\n    PROPERTIES(o) READONLY do = date, nameCustomer\n    ORDERS do DESC\n    FILTERS date(o) >= dateFrom, date(o) <= dateTo,\n            customer(o) == filterCustomer() OR NOT filterCustomer()\n;\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u9700\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u65E5\u671F\u5E94\u8BE5\u59CB\u7EC8\u88AB\u9009\u62E9\uFF08\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u6253\u5F00\u8868\u5355\u65F6\u4F1A\u8BBE\u7F6E\u4E3A\u5F53\u524D\u65E5\u671F\uFF09\u3002\u4F46\u53EF\u4EE5\u4E0D\u9009\u62E9\u5BA2\u6237\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u6B64\u5916\uFF0C\u8BF7\u6CE8\u610F\uFF0C",(0,l.jsx)(n.code,{children:"ORDER BY"}),"\u4E2D\u8BBE\u7F6E\u7684\u4E0D\u662F\u8868\u8FBE\u5F0F\uFF0C\u800C\u662F\u6DFB\u52A0\u5230\u8868\u5355\u4E2D\u7684\u7279\u5B9A\u5C5E\u6027\u3002\u56E0\u6B64\uFF0C\u6211\u4EEC\u4E0D\u80FD\u6309\u672A\u6DFB\u52A0\u5230\u8868\u5355\u4E2D\u7684\u5C5E\u6027\u8FDB\u884C\u6392\u5E8F\u3002"]})]})}function u(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},28453:function(e,n,t){t.d(n,{R:()=>s,x:()=>a});var r=t(96540);let l={},o=r.createContext(l);function s(e){let n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);