"use strict";(self.webpackChunkls_fusion_docs=self.webpackChunkls_fusion_docs||[]).push([["33909"],{68512:function(e,r,n){n.r(r),n.d(r,{metadata:()=>i,default:()=>E,frontMatter:()=>t,contentTitle:()=>c,toc:()=>l,assets:()=>s});var i=JSON.parse('{"id":"How-to_Working_with_documents","title":"\u5904\u7406\u6587\u6863","description":"\u8FC7\u8D26\u6587\u6863","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/How-to_Working_with_documents.md","sourceDirName":".","slug":"/How-to_Working_with_documents","permalink":"/How-to_Working_with_documents","draft":false,"unlisted":false,"editUrl":"https://github.com/lsfusion/platform/edit/master/docs/zh-CN/How-to_Working_with_documents.md","tags":[],"version":"current","lastUpdatedAt":null,"frontMatter":{"title":"\u5904\u7406\u6587\u6863"},"sidebar":"learn","previous":{"title":"\u4F7F\u7528\u6848\u4F8B","permalink":"/How-to_Use_Cases"},"next":{"title":"\u8D26\u518C","permalink":"/How-to_Registers"}}'),o=n(74848),d=n(28453);let t={title:"\u5904\u7406\u6587\u6863"},c,s={},l=[{value:"\u8FC7\u8D26\u6587\u6863",id:"\u8FC7\u8D26\u6587\u6863",level:2},{value:"\u4EFB\u52A1",id:"\u4EFB\u52A1",level:3},{value:"\u89E3\u51B3\u65B9\u6848",id:"\u89E3\u51B3\u65B9\u6848",level:3},{value:"\u884C\u9009\u62E9",id:"\u884C\u9009\u62E9",level:2},{value:"\u4EFB\u52A1",id:"\u4EFB\u52A1-1",level:3},{value:"\u89E3\u51B3\u65B9\u6848",id:"\u89E3\u51B3\u65B9\u6848-1",level:3},{value:"\u805A\u5408\u6587\u6863",id:"\u805A\u5408\u6587\u6863",level:2},{value:"\u4EFB\u52A1",id:"\u4EFB\u52A1-2",level:3},{value:"\u89E3\u51B3\u65B9\u6848",id:"\u89E3\u51B3\u65B9\u6848-2",level:3}];function a(e){let r={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,d.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.h2,{id:"\u8FC7\u8D26\u6587\u6863",children:"\u8FC7\u8D26\u6587\u6863"}),"\n",(0,o.jsx)(r.h3,{id:"\u4EFB\u52A1",children:"\u4EFB\u52A1"}),"\n",(0,o.jsx)(r.p,{children:"\u6709\u4E00\u4E9B\u7528\u4E8E\u5904\u7406\u8BA2\u5355\u7684\u903B\u8F91\u3002"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"CLASS Book 'Book';\r\nname 'Name' = DATA ISTRING[100] (Book) IN id;\r\n\r\nCLASS Order 'Order';\r\ndate 'Date' = DATA DATE (Order);\r\nnumber 'Number' = DATA STRING[10] (Order);\r\n\r\nCLASS OrderDetail 'Order line';\r\norder 'Order' = DATA Order (OrderDetail) NONULL DELETE;\r\n\r\nbook 'Book' = DATA Book (OrderDetail) NONULL;\r\nnameBook 'Book' (OrderDetail d) = name(book(d));\r\n\r\nquantity 'Quantity' = DATA INTEGER (OrderDetail);\r\nprice 'Price' = DATA NUMERIC[14,2] (OrderDetail);\n"})}),"\n",(0,o.jsx)(r.p,{children:"\u5DF2\u4E3A\u8BA2\u5355\u521B\u5EFA\u4E86\u8BA2\u5355\u7F16\u8F91\u8868\u5355\u3002"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"FORM order 'Order'\r\n    OBJECTS o = Order PANEL\r\n    PROPERTIES(o) date, number\r\n\r\n    OBJECTS d = OrderDetail\r\n    PROPERTIES(d) nameBook, quantity, price, NEW, DELETE\r\n    FILTERS order(d) == o\r\n\r\n    EDIT Order OBJECT o\r\n;\r\n\r\n\r\nFORM orders 'Orders'\r\n    OBJECTS o = Order\r\n    PROPERTIES(o) READONLY date, number\r\n    PROPERTIES(o) NEWSESSION NEW, EDIT, DELETE\r\n;\r\n\r\nNAVIGATOR {\r\n    NEW orders;\r\n}\n"})}),"\n",(0,o.jsxs)(r.p,{children:["\u6B64\u5916\uFF0C\u5DF2\u4E3A\u8BA2\u5355\u6DFB\u52A0\u4E86",(0,o.jsx)(r.code,{children:"posted"}),"\u5C5E\u6027\u3002\u5C06\u6765\uFF0C\u53EA\u6709\u5177\u6709\u6B64\u5C5E\u6027\u7684\u8BA2\u5355\u624D\u4F1A\u53C2\u4E0E\u540E\u7EED\u8BA1\u7B97\uFF08\u4F8B\u5982\uFF0C\u8BA1\u7B97\u9884\u7559\u6570\u91CF\uFF09\u3002"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"posted 'Completed' = DATA BOOLEAN (Order);\r\nreserved 'Reserved' (Book b) = GROUP SUM quantity(OrderDetail d) IF posted(order(d)) BY book(d);\r\n\r\nEXTEND FORM order\r\n    PROPERTIES(o) posted\r\n;\n"})}),"\n",(0,o.jsxs)(r.p,{children:["\u6211\u4EEC\u9700\u8981\u8FD9\u6837\u505A\uFF0C\u4F7F\u5F97\u5728\u8BA2\u5355\u8868\u5355\u4E0A\u7528",(0,o.jsx)(r.code,{children:"Post"}),"\u6309\u94AE\u4EE3\u66FF",(0,o.jsx)(r.code,{children:"\u041E\u041A"}),"\u6309\u94AE\uFF0C\u8BE5\u6309\u94AE\u540C\u65F6\u8BBE\u7F6E\u8BA2\u5355\u7684",(0,o.jsx)(r.code,{children:"posted"}),"\u5C5E\u6027\u3001\u4FDD\u5B58\u66F4\u6539\u5E76\u5173\u95ED\u8868\u5355\u3002"]}),"\n",(0,o.jsx)(r.h3,{id:"\u89E3\u51B3\u65B9\u6848",children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"post 'Complete' (Order o)  { posted(o) <- TRUE; }\r\n\r\nEXTEND FORM order\r\n    EVENTS ON OK post(o)\r\n;\r\nDESIGN order {\r\n    PROPERTY(formOk()) {\r\n        caption = 'Complete';\r\n    }\r\n}\n"})}),"\n",(0,o.jsxs)(r.p,{children:["\u6BCF\u6B21\u6309\u4E0B\u91CD\u547D\u540D\u7684",(0,o.jsx)(r.code,{children:"OK"}),"\u6309\u94AE\u65F6\uFF0C",(0,o.jsx)(r.code,{children:"post"}),'\u64CD\u4F5C\u5C06\u5728\u5355\u4E2A\u4E8B\u52A1\u4E2D\u6267\u884C\u3002\u4F7F\u7528\u6B64\u65B9\u6848\uFF0C\u5982\u679C\u7528\u6237\u60F3\u8981"\u53D6\u6D88\u8FC7\u8D26"\u6587\u6863\uFF0C\u4ED6\u4EEC\u53EA\u9700\u8981\u8F6C\u5230\u7F16\u8F91\u8868\u5355\uFF0C\u53D6\u6D88\u9009\u4E2D\u6587\u6863\u6807\u9898\u4E2D\u7684',(0,o.jsx)(r.code,{children:"Posted"}),"\u6846\uFF0C\u7136\u540E\u70B9\u51FB",(0,o.jsx)(r.code,{children:"Save"}),"\u548C",(0,o.jsx)(r.code,{children:"Close"}),"\u3002"]}),"\n",(0,o.jsx)(r.h2,{id:"\u884C\u9009\u62E9",children:"\u884C\u9009\u62E9"}),"\n",(0,o.jsx)(r.h3,{id:"\u4EFB\u52A1-1",children:"\u4EFB\u52A1"}),"\n",(0,o.jsxs)(r.p,{children:["\u6211\u4EEC\u6709\u4E00\u4E2A\u8BA2\u5355\uFF0C\u5176\u7F16\u8F91\u8868\u5355\u7C7B\u4F3C\u4E8E",(0,o.jsx)(r.a,{href:"#posting-documents",children:(0,o.jsx)(r.strong,{children:"\u8FC7\u8D26\u6587\u6863"})}),"\u793A\u4F8B\u4E2D\u7684\u8868\u5355\u3002"]}),"\n",(0,o.jsx)(r.p,{children:"\u6211\u4EEC\u9700\u8981\u6DFB\u52A0\u901A\u8FC7\u5728\u5305\u542B\u4EA7\u54C1\u5217\u8868\u7684\u8868\u683C\u4E2D\u6307\u5B9A\u6570\u91CF\u6765\u8F93\u5165\u8BA2\u5355\u884C\u7684\u53EF\u80FD\u6027\u3002\u8BA2\u5355\u884C\u548C\u6B64\u8868\u683C\u4E2D\u7684\u4EFB\u4F55\u66F4\u6539\u90FD\u5E94\u81EA\u52A8\u76F8\u4E92\u540C\u6B65\u3002"}),"\n",(0,o.jsx)(r.h3,{id:"\u89E3\u51B3\u65B9\u6848-1",children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"quantity 'Qty' (Order o, Book b) = GROUP SUM quantity(OrderDetail d) BY order(d), book(d);\r\nlastOrderDetail 'Last line' (Order o, Book b) = GROUP LAST OrderDetail d ORDER d BY order(d), book(d);\r\n\r\nchangeQuantity 'Change quantity' (Order o, Book b)  {\r\n    INPUT q = INTEGER DO { // requesting a number\r\n        IF lastOrderDetail(o, b) THEN { // checking if there is at least one row\r\n            IF q THEN // inputting a number\r\n                // writing the quantity in the last row with such a book\r\n                quantity(OrderDetail d) <- q IF d == lastOrderDetail(o, b) WHERE order(d) == o AND book(d) == b; \r\n            ELSE // the number is dropped - deleting the row\r\n                DELETE OrderDetail d WHERE order(d) == o AND book(d) == b;\r\n        } ELSE\r\n            IF q THEN\r\n                NEW d = OrderDetail { // creating a new row\r\n                    order(d) <- o;\r\n                    book(d) <- b;\r\n                    quantity(d) <- q;\r\n                }\r\n    }\r\n}\r\n\r\nEXTEND FORM order\r\n    OBJECTS b = Book\r\n    PROPERTIES name(b) READONLY, quantity(o, b) ON CHANGE changeQuantity(o, b)\r\n;\r\n\r\nDESIGN order {\r\n    OBJECTS {\r\n        NEW pane { // creating a container after the order header\r\n            fill = 1;\r\n            tabbed = TRUE;\r\n            MOVE BOX(d);\r\n            MOVE BOX(b) {\r\n                caption = 'Selection';\r\n            }\r\n        }\r\n    }\r\n}\n"})}),"\n",(0,o.jsx)(r.p,{children:"\u8868\u5355\u5C06\u5982\u4E0B\u6240\u793A\uFF1A"}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.img,{src:n(52286).A+"",width:"634",height:"298"}),(0,o.jsx)(r.img,{src:n(47764).A+"",width:"641",height:"305"})]}),"\n",(0,o.jsxs)(r.p,{children:["\u5982\u679C",(0,o.jsx)(r.code,{children:"Selection"}),"\u9009\u9879\u5361\u4E0A\u7684\u6570\u91CF\u53D1\u751F\u53D8\u5316\uFF0C\u7CFB\u7EDF\u5C06\u81EA\u52A8\u66F4\u6539\u8BA2\u5355\u884C\u3002\u5982\u679C\u8BA2\u5355\u884C\u53D1\u751F\u53D8\u5316\uFF0C",(0,o.jsx)(r.code,{children:"Selection"}),"\u9009\u9879\u5361\u4E0A\u7684\u6570\u91CF\u4E5F\u4F1A\u968F\u4E4B\u53D8\u5316\u3002"]}),"\n",(0,o.jsx)(r.p,{children:"\u5982\u679C\u8BA2\u5355\u6709\u4E24\u884C\u6216\u66F4\u591A\u884C\u5305\u542B\u540C\u4E00\u672C\u4E66\uFF0C\u7CFB\u7EDF\u5C06\u91CD\u7F6E\u7B2C\u4E00\u884C\u7684\u6570\u91CF\uFF0C\u5E76\u5728\u6700\u540E\u4E00\u884C\u8BBE\u7F6E\u603B\u6570\u3002\u5982\u679C\u5E0C\u671B\u66F4\u6539\u4EC5\u5F71\u54CD\u6700\u540E\u4E00\u884C\uFF0C\u5219\u9700\u8981\u5728\u4FDD\u5B58\u671F\u95F4\u4F7F\u7528\u4EE5\u4E0B\u64CD\u4F5C\uFF1A"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"quantity(OrderDetail d) <- q WHERE d == lastOrderDetail(o, b);\n"})}),"\n",(0,o.jsxs)(r.p,{children:["\u4F46\u662F\uFF0C\u7528\u6237\u53EF\u80FD\u4E0D\u7406\u89E3\u8FD9\u79CD\u884C\u4E3A\uFF0C\u56E0\u4E3A\u5F53\u4ED6\u4EEC\u5728",(0,o.jsx)(r.code,{children:"Selection"}),"\u9009\u9879\u5361\u4E0A\u8F93\u5165\u7279\u5B9A\u6570\u91CF\u540E\uFF0C\u6240\u6709\u884C\u7684\u603B\u6570\u91CF\u5C06\u663E\u793A\u5728\u540C\u4E00\u5217\u4E2D\uFF0C\u5E76\u4E14\u4E0E\u8F93\u5165\u7684\u503C\u4E0D\u540C\u3002"]}),"\n",(0,o.jsx)(r.h2,{id:"\u805A\u5408\u6587\u6863",children:"\u805A\u5408\u6587\u6863"}),"\n",(0,o.jsx)(r.h3,{id:"\u4EFB\u52A1-2",children:"\u4EFB\u52A1"}),"\n",(0,o.jsx)(r.p,{children:"\u6211\u4EEC\u6709\u8BA2\u5355\u903B\u8F91\u3002"}),"\n",(0,o.jsx)(r.p,{children:"\u6211\u4EEC\u9700\u8981\u6DFB\u52A0\u4E00\u4E9B\u53D1\u7968\u903B\u8F91\uFF0C\u4EE5\u4FBF\u8BA2\u5355\u53EF\u4EE5\u81EA\u52A8\u521B\u5EFA\u76F8\u5E94\u7684\u53D1\u7968\u3002"}),"\n",(0,o.jsx)(r.h3,{id:"\u89E3\u51B3\u65B9\u6848-2",children:"\u89E3\u51B3\u65B9\u6848"}),"\n",(0,o.jsxs)(r.p,{children:["\u4E3A\u4E86\u5B9E\u73B0\u6B64\u903B\u8F91\uFF0C\u60A8\u9700\u8981\u521B\u5EFA\u4E00\u4E2A\u5E26\u6709\u5FC5\u8981",(0,o.jsx)(r.a,{href:"/Property_extension",children:"\u62BD\u8C61\u5C5E\u6027"}),"\u96C6\u7684\u62BD\u8C61",(0,o.jsx)(r.code,{children:"Invoice"}),(0,o.jsx)(r.a,{href:"/Classes",children:"\u7C7B"}),"\u3002"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"CLASS ABSTRACT Invoice 'Invoice';\r\ndate 'Date' = ABSTRACT DATE (Invoice);\r\nnumber 'Number' = ABSTRACT STRING[10] (Invoice);\r\n\r\nCLASS ABSTRACT InvoiceDetail 'Invoice line';\r\ninvoice 'Invoice' = ABSTRACT Invoice (InvoiceDetail);\r\nbook 'Book' = ABSTRACT Book (InvoiceDetail);\r\n\r\nquantity 'Quantity' = ABSTRACT INTEGER (InvoiceDetail);\r\nprice 'Price' = ABSTRACT NUMERIC[14,2] (InvoiceDetail);\n"})}),"\n",(0,o.jsxs)(r.p,{children:["\u8FD8\u521B\u5EFA\u4E86\u5305\u542B\u6B64\u62BD\u8C61\u7C7B\u5BF9\u8C61\u5217\u8868\u7684\u8868\u5355\u3002\u5B83\u5C06\u5305\u542B\u4ECE",(0,o.jsx)(r.code,{children:"Invoice"}),"\u7C7B\u7EE7\u627F\u7684\u6240\u6709\u7C7B\u7684\u5BF9\u8C61\u3002"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"FORM invoices 'Invoices'\r\n    OBJECTS i = Invoice\r\n    PROPERTIES(i) READONLY date, number\r\n    PROPERTIES(i) NEWSESSION edit, DELETE\r\n;\r\n\r\nNAVIGATOR {\r\n    NEW invoices;\r\n}\n"})}),"\n",(0,o.jsxs)(r.p,{children:[(0,o.jsx)(r.code,{children:"edit"}),"\u5C5E\u6027\u5C06\u8C03\u7528\u4E3A\u5176\u7C7B\u5B9A\u4E49\u7684\u5F53\u524D\u5BF9\u8C61\u7684\u7F16\u8F91\u8868\u5355\u3002\u5982\u679C\u672A\u4E3A\u5F53\u524D\u5BF9\u8C61\u7684\u7C7B\u5B9A\u4E49\uFF0C\u5219\u4E0D\u6267\u884C\u4EFB\u4F55\u64CD\u4F5C\u3002\u5982\u679C\u4E0D\u8FDD\u53CD\u4EFB\u4F55\u7EA6\u675F\uFF0C",(0,o.jsx)(r.code,{children:"DELETE"}),"\u5C5E\u6027\u5C06\u5220\u9664\u5F53\u524D\u5BF9\u8C61\u3002"]}),"\n",(0,o.jsxs)(r.p,{children:["\u62BD\u8C61\u7C7B\u7684\u5BF9\u8C61\u4E0D\u80FD\u5B58\u5728\u4E8E\u7CFB\u7EDF\u4E2D\u3002\u4E3A\u4E86\u8BA9\u7528\u6237\u624B\u52A8\u521B\u5EFA\u53D1\u7968\uFF0C\u9700\u8981\u521B\u5EFA\u4E00\u4E2A\u5355\u72EC\u7684",(0,o.jsx)(r.code,{children:"UserInvoice"}),"\u7C7B\u3002\u6B64\u5916\uFF0C\u8FD8\u9700\u8981\u521B\u5EFA\u4E0E\u62BD\u8C61\u5C5E\u6027\u5BF9\u79F0\u7684\u5C5E\u6027\uFF0C\u8FD9\u4E9B\u5C5E\u6027\u7A0D\u540E\u4F1A\u4F5C\u4E3A\u5B83\u4EEC\u7684\u5B9E\u73B0\u6DFB\u52A0\u3002"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"CLASS UserInvoice 'Custom invoice' : Invoice;\r\ndate 'Date' = DATA DATE (UserInvoice);\r\nnumber 'Number' = DATA STRING[10] (UserInvoice);\r\n\r\nCLASS UserInvoiceDetail 'Custom invoice line' : InvoiceDetail;\r\nuserInvoice 'Custom invoice' = DATA UserInvoice (UserInvoiceDetail);\r\nbook 'Book' = DATA Book (UserInvoiceDetail);\r\nnameBook 'Book' (UserInvoiceDetail d) = name(book(d));\r\n\r\nquantity 'Quantity' = DATA INTEGER (UserInvoiceDetail);\r\nprice 'Price' = DATA NUMERIC[14,2] (UserInvoiceDetail);\r\n\r\n// implementing invoice properties\r\ndate(UserInvoice i) += date(i);\r\nnumber(UserInvoice i) += number(i);\r\n\r\n// implementing the properties of the invoice lines\r\ninvoice (UserInvoiceDetail d) += userInvoice(d);\r\nbook (UserInvoiceDetail d) += book(d);\r\n\r\nquantity (UserInvoiceDetail d) += quantity(d);\r\nprice (UserInvoiceDetail d) += price(d);\n"})}),"\n",(0,o.jsx)(r.p,{children:"\u8BA9\u6211\u4EEC\u521B\u5EFA\u4E00\u4E2A\u7528\u4E8E\u7F16\u8F91\u7528\u6237\u751F\u6210\u7684\u53D1\u7968\u7684\u8868\u5355\u3002\u8BA9\u6211\u4EEC\u5728\u5305\u542B\u62BD\u8C61\u53D1\u7968\u5217\u8868\u7684\u8868\u5355\u4E2D\u6DFB\u52A0\u4E00\u4E2A\u6DFB\u52A0\u7528\u6237\u751F\u6210\u53D1\u7968\u7684\u6309\u94AE\u3002"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"FORM userInvoice 'Invoice (custom)'\r\n    OBJECTS i = UserInvoice PANEL\r\n    PROPERTIES(i) date, number\r\n\r\n    OBJECTS d = UserInvoiceDetail\r\n    PROPERTIES(d) nameBook, quantity, price, NEW, DELETE\r\n    FILTERS userInvoice(d) == i\r\n\r\n    EDIT UserInvoice OBJECT i\r\n;\r\n\r\nEXTEND FORM invoices\r\n    PROPERTIES(i) NEWSESSION NEW[UserInvoice]\r\n;\n"})}),"\n",(0,o.jsxs)(r.p,{children:["\u5BF9\u4E8E\u8BA2\u5355\uFF0C\u8BA9\u6211\u4EEC\u521B\u5EFA\u4E00\u4E2A\u7528\u4E8E\u751F\u6210\u53D1\u7968\u7684",(0,o.jsx)(r.code,{children:"createInvoice"}),"\u9009\u9879\u3002\u73B0\u5728\u6211\u4EEC\u9700\u8981\u521B\u5EFA\u4E00\u4E2A\u4ECE",(0,o.jsx)(r.code,{children:"Invoice"}),"\u7EE7\u627F\u7684",(0,o.jsx)(r.code,{children:"OrderInvoice"}),"\u7C7B\u3002\u7CFB\u7EDF\u5C06\u4E3A\u6BCF\u4E2A\u5177\u6709",(0,o.jsx)(r.code,{children:"createInvoice"}),"\u9009\u9879\u7684\u8BA2\u5355\u81EA\u52A8\u521B\u5EFA\u548C\u5220\u9664\u6B64\u7C7B\u7684\u5BF9\u8C61\u3002\u56E0\u6B64\uFF0C\u6B64\u53D1\u7968\u662F\u76F8\u5E94\u8BA2\u5355\u7684",(0,o.jsx)(r.a,{href:"/Aggregations",children:"\u805A\u5408\u5BF9\u8C61"}),"\u3002\u53D1\u7968\u884C\u76F8\u5BF9\u4E8E\u8BA2\u5355\u884C\u7684\u805A\u5408\u4EE5\u76F8\u540C\u65B9\u5F0F\u521B\u5EFA\u3002"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"createInvoice 'Create invoice' = DATA BOOLEAN (Order);\r\nEXTEND FORM order PROPERTIES(o) createInvoice;\r\n\r\n// aggregated invoice\r\nCLASS OrderInvoice 'Invoice based on order' : Invoice;\r\norderInvoice = AGGR OrderInvoice WHERE createInvoice(Order order) MATERIALIZED INDEXED;\r\ndate(OrderInvoice i) += date(order(i));\r\nnumber(OrderInvoice i) += number(order(i));\r\n\r\n// aggregated invoice lines\r\ncreateInvoiceDetail 'Create invoice line' (OrderDetail d) = createInvoice(order(d));\r\n\r\nCLASS OrderInvoiceDetail 'Invoice line based on order' : InvoiceDetail;\r\norderInvoiceDetail = AGGR OrderInvoiceDetail WHERE createInvoiceDetail(OrderDetail orderDetail) MATERIALIZED INDEXED;\r\n\r\ninvoice (OrderInvoiceDetail d) += orderInvoice(order(orderDetail(d)));\r\nbook (OrderInvoiceDetail d) += book(orderDetail(d));\r\n\r\nquantity (OrderInvoiceDetail d) += quantity(orderDetail(d));\r\nprice (OrderInvoiceDetail d) += price(orderDetail(d));\n"})}),"\n",(0,o.jsx)(r.p,{children:"\u6211\u4EEC\u6307\u5B9A\u5C1D\u8BD5\u7F16\u8F91\u6B64\u7C7B\u805A\u5408\u53D1\u7968\u65F6\u5FC5\u987B\u6253\u5F00\u5173\u8054\u8BA2\u5355\u7684\u7F16\u8F91\u8868\u5355\u3002"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-lsf",children:"edit(OrderInvoice i) + {  edit(order(i)); }\n"})}),"\n",(0,o.jsx)(r.p,{children:"\u5F53\u60A8\u5C1D\u8BD5\u5220\u9664\u4E3A\u8BA2\u5355\u521B\u5EFA\u7684\u53D1\u7968\u65F6\uFF0C\u60A8\u5C06\u770B\u5230\u9519\u8BEF\u6D88\u606F\u3002"}),"\n",(0,o.jsx)(r.p,{children:"\u8FD9\u79CD\u805A\u5408\u65B9\u6CD5\u4E0E\u57FA\u4E8E\u8BA2\u5355\u751F\u6210\u53D1\u7968\u7684\u65B9\u6CD5\u4E4B\u95F4\u7684\u6839\u672C\u533A\u522B\u5728\u4E8E\uFF0C\u7CFB\u7EDF\u81EA\u52A8\u786E\u4FDD\u8BA2\u5355\u548C\u53D1\u7968\u4E4B\u95F4\u7684\u540C\u6B65\u3002\u5F53\u521B\u5EFA\u57FA\u4E8E\u8BA2\u5355\u7684\u53D1\u7968\u65F6\uFF0C\u5982\u679C\u76F8\u5E94\u7684\u8BA2\u5355\u53D1\u751F\u66F4\u6539\uFF0C\u7528\u6237\u5FC5\u987B\u624B\u52A8\u4FEE\u6539\u5B83\u4EEC\u3002\u5426\u5219\uFF0C\u5C06\u9700\u8981\u4E00\u4E2A\u5355\u72EC\u7684\u4E8B\u4EF6\u5904\u7406\u673A\u5236\u6765\u8D1F\u8D23\u3002"})]})}function E(e={}){let{wrapper:r}={...(0,d.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},52286:function(e,r,n){n.d(r,{A:()=>i});let i=n.p+"assets/images/How-to_Working_with_documents_line-6fa52edb76262e3073bb441f407952dd.png"},47764:function(e,r,n){n.d(r,{A:()=>i});let i=n.p+"assets/images/How-to_Working_with_documents_select-700a0f70aea96127095f971236f1e8c0.png"},28453:function(e,r,n){n.d(r,{R:()=>t,x:()=>c});var i=n(96540);let o={},d=i.createContext(o);function t(e){let r=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),i.createElement(d.Provider,{value:r},e.children)}}}]);